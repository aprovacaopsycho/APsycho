<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark" />
    <title>Avaliação IFP-II | Aprovação Psycho</title>
    <link rel="icon" type="image/png" href="../favicon.png">

    <!-- SEGURANÇA -->
    <script src="../scripts/auth_guard.js"></script>

    <script src="https://cdn.tailwindcss.com"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap"
        rel="stylesheet" />

    <style>
        :root {
            --bg-dark: #100f1c;
            --bg-card: #1c1b29;
            --primary-purple: #9f54ff;
            --accent-pink: #ff00ff;
            --accent-blue: #00c2ff
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-dark);
            color: #a0a0a0
        }

        .card {
            background: var(--bg-card);
            border: 1px solid #333;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .card:hover {
            border-color: var(--primary-purple);
            box-shadow: 0 10px 30px rgba(159, 84, 255, 0.15);
            transform: translateY(-5px);
        }

        [x-cloak] {
            display: none !important
        }

        /* ---- HERO (glass + grid) ---- */
        .hero-bg {
            position: relative;
            isolation: isolate;
            background-image: linear-gradient(180deg, rgba(15, 14, 26, .82), rgba(15, 14, 26, .94)), url('https://blog.alfaconcursos.com.br/wp-content/uploads/2021/05/concurso-pc-es.jpeg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            min-height: 100vh;
        }

        .hero-bg::before {
            /* animated grid glow */
            content: "";
            position: absolute;
            inset: -10%;
            z-index: -1;
            opacity: .35;
            background:
                radial-gradient(600px 200px at 10% 0%, rgba(159, 84, 255, .18), transparent 60%),
                radial-gradient(600px 200px at 90% 20%, rgba(0, 194, 255, .18), transparent 60%),
                radial-gradient(1000px 400px at 50% 110%, rgba(255, 0, 255, .18), transparent 60%);
            filter: blur(40px);
            pointer-events: none
        }

        .scale-option input:checked+div {
            background: rgba(159, 84, 255, 0.2);
            border-color: var(--primary-purple);
            color: white;
            box-shadow: 0 0 10px rgba(159, 84, 255, 0.3);
            transform: scale(1.05);
        }

        .neon-text {
            color: #fff;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5), 0 0 10px var(--primary-purple);
        }

        @media print {
            .no-print {
                display: none !important;
            }

            body {
                background: white;
                color: black;
            }

            .hero-bg {
                background: none;
            }

            .hero-bg::before {
                display: none;
            }
        }
    </style>
</head>

<body class="flex flex-col min-h-screen hero-bg">

    <!-- HEADER -->
    <header class="bg-black/40 backdrop-blur-md border-b border-white/10 sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <img src="../Imagens_base/logo-principal.png" alt="Logo" class="h-8">
                <img src="https://blog.alfaconcursos.com.br/wp-content/uploads/2021/05/concurso-pc-es.jpeg"
                    alt="Brasão Base"
                    class="h-10 w-10 rounded-full border border-[var(--primary-purple)] object-cover shadow-[0_0_10px_rgba(159,84,255,0.3)]">
                <div class="flex flex-col">
                    <span class="text-xl font-black" style="color:var(--text-light)">APROVAÇÃO <span
                            style="color:var(--accent-pink);text-shadow:0 0 8px var(--accent-pink)">PSYCHO</span></span>
                    <span class="text-white font-black text-lg leading-none">IFP-II <span
                            class="text-[var(--accent-pink)]">INVENTÁRIO</span></span>
                </div>
            </div>

            <div class="flex items-center gap-4">
                <!-- Timer Removed from Header -->

                <a href="testes_personalidade.html"
                    class="text-sm text-[var(--accent-blue)] hover:text-white flex items-center gap-2 font-bold transition">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M11 17l-5-5m0 0l5-5m-5 5h12" />
                    </svg>
                    Voltar
                </a>
            </div>
        </div>
    </header>

    <main class="flex-grow max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <!-- Unified Timer Overlay -->
        <div id="unified-timer-container"
            class="hidden fixed top-24 left-1/2 -translate-x-1/2 z-[110] flex items-center gap-4">
            <div id="timer-glass-panel"
                class="glass-panel px-6 py-3 rounded-full flex items-center gap-4 shadow-2xl border border-white/20 bg-[#1c1b29]/90 backdrop-blur-md">
                <div class="text-xs font-bold uppercase tracking-wider text-gray-400">Restante</div>
                <div id="timer-display" class="font-mono text-3xl font-black text-white tabular-nums leading-none">00:00
                </div>
            </div>
        </div>

        <div id="screen-import" class="hidden fade-in max-w-3xl mx-auto">
            <div class="bg-[#151427] rounded-2xl p-8 border border-white/5">
                <h2 class="text-2xl font-bold text-white mb-4">Importar Respostas</h2>
                <p class="text-gray-400 mb-6 text-sm">Cole abaixo suas respostas separadas por espaços, vírgulas ou
                    quebras de linha. O sistema espera 100 números (1-7).</p>

                <textarea id="input-answers" rows="10"
                    class="w-full bg-[#0f0e1a] border border-purple-500/20 rounded-xl p-4 text-white font-mono text-sm focus:outline-none focus:border-purple-500 transition-colors"
                    placeholder="1 2 3 4 5..."></textarea>

                <div class="flex justify-between items-center mt-4">
                    <span id="count-display" class="text-xs font-bold text-gray-500">0 respostas detectadas</span>
                    <div class="flex gap-3">
                        <button onclick="showScreen('dashboard')"
                            class="px-4 py-2 rounded-lg text-gray-400 hover:text-white transition">Cancelar</button>
                        <button onclick="processarInputImportado()"
                            class="px-6 py-2 rounded-lg bg-purple-600 text-white font-bold hover:bg-purple-500 transition shadow-lg shadow-purple-600/20">Processar</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="screen-dashboard" class="fade-in">
            <div class="mb-10">
                <h2 class="text-3xl font-bold text-white mb-2">Painel IFP-II</h2>
                <p class="text-gray-400">Visão geral do seu desempenho no Inventário Fatorial de Personalidade II.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
                <div
                    class="bg-[#151427] rounded-2xl p-6 border border-white/5 hover:border-purple-500/30 transition-all group">
                    <div class="flex justify-between items-start mb-4">
                        <div
                            class="p-3 rounded-lg bg-purple-500/10 text-purple-400 group-hover:bg-purple-500/20 transition-colors">
                            <i class="fas fa-clipboard-check text-xl"></i>
                        </div>
                        <span class="text-xs font-bold text-gray-500 uppercase tracking-wider">Total</span>
                    </div>
                    <div class="text-4xl font-bold text-white mb-1" id="dash-total">0</div>
                    <p class="text-sm text-gray-500">Testes realizados</p>
                </div>

                <div
                    class="bg-[#151427] rounded-2xl p-6 border border-white/5 hover:border-cyan-500/30 transition-all group">
                    <div class="flex justify-between items-start mb-4">
                        <div
                            class="p-3 rounded-lg bg-cyan-500/10 text-cyan-400 group-hover:bg-cyan-500/20 transition-colors">
                            <i class="fas fa-stopwatch text-xl"></i>
                        </div>
                        <span class="text-xs font-bold text-gray-500 uppercase tracking-wider">Último</span>
                    </div>
                    <div class="text-lg font-bold text-white mb-1 truncate" id="dash-last-date">-</div>
                    <p class="text-sm text-gray-500" id="dash-last-status">Sem dados</p>
                </div>

                <div class="bg-gradient-to-br from-[#151427] to-[#1a1a35] rounded-2xl p-6 border border-white/5 flex flex-col justify-center items-center text-center cursor-pointer hover:shadow-lg hover:shadow-purple-500/10 transition-all"
                    onclick="novoTeste()">
                    <div class="w-12 h-12 rounded-full bg-white/5 flex items-center justify-center mb-3 text-white">
                        <i class="fas fa-plus"></i>
                    </div>
                    <h3 class="text-white font-bold mb-1">Iniciar Novo Teste</h3>
                    <p class="text-xs text-gray-400">Questionário Completo</p>
                </div>
            </div>



            <div class="bg-[#151427] rounded-2xl border border-white/5 overflow-hidden">
                <div class="p-6 border-b border-white/5 flex justify-between items-center">
                    <h3 class="text-lg font-bold text-white">Histórico de Atividades</h3>
                    <button class="text-xs text-purple-400 hover:text-purple-300 font-medium"
                        onclick="limparHistorico()">Limpar Histórico</button>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left">
                        <thead class="text-xs text-gray-500 uppercase bg-[#0f0e1a]/50">
                            <tr>
                                <th class="px-6 py-4 font-medium">Teste</th>
                                <th class="px-6 py-4 font-medium">Data</th>
                                <th class="px-6 py-4 font-medium text-center">Status</th>
                                <th class="px-6 py-4 font-medium text-right">Ação</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-white/5" id="history-container">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="screen-quiz" class="hidden fade-in max-w-5xl mx-auto">
            <div
                class="bg-[#151427] rounded-2xl p-6 border border-white/5 mb-8 sticky top-24 z-40 shadow-xl shadow-black/50">
                <div class="flex flex-col md:flex-row justify-between items-end mb-4 gap-4">
                    <div>
                        <h2 class="text-xl font-bold text-white">IFP-II</h2>
                        <p class="text-sm text-gray-400">Inventário Fatorial de Personalidade - II</p>
                    </div>

                    <!-- FILTRO -->
                    <div
                        class="flex items-center gap-3 bg-[#1c1b29] px-4 py-2 rounded-lg border border-white/10 focus-within:border-purple-500 transition-colors shadow-lg shadow-black/20 w-full md:w-auto">
                        <i class="fas fa-filter text-purple-400"></i>
                        <select id="facet-filter" onchange="filtrarFacetas()"
                            class="bg-transparent text-gray-300 text-sm outline-none cursor-pointer w-full font-medium">
                            <option value="ALL" class="bg-[#151427] text-white">Todas as Facetas</option>
                            <optgroup label="Itens IFP-II" class="bg-[#1c1b29] text-purple-300">
                                <option value="ASSISTENCIA">Assistência</option>
                                <option value="INTRACEPCAO">Intracepção</option>
                                <option value="AFAGO">Afago</option>
                                <option value="DEFERENCIA">Deferência</option>
                                <option value="AFILIACAO">Afiliação</option>
                                <option value="DOMINANCIA">Dominância</option>
                                <option value="DESEMPENHO">Desempenho</option>
                                <option value="EXIBICAO">Exibição</option>
                                <option value="AGRESSIVIDADE">Agressividade</option>
                                <option value="ORDEM">Ordem</option>
                                <option value="PERSISTENCIA">Persistência</option>
                                <option value="MUDANCA">Mudança</option>
                                <option value="AUTONOMIA">Autonomia</option>
                            </optgroup>
                        </select>
                    </div>

                    <button onclick="abrirImportacao()"
                        class="flex items-center gap-2 bg-[#1c1b29] px-4 py-2 rounded-lg border border-white/10 text-gray-300 hover:text-white hover:border-purple-500 transition-colors shadow-lg shadow-black/20 text-sm font-medium h-[38px]">
                        <i class="fas fa-paste text-purple-400"></i>
                        Colar Respostas
                    </button>

                    <div class="text-right">
                        <span class="text-2xl font-bold text-cyan-400" id="progress-text">0%</span>
                    </div>
                </div>
                <div class="h-2 bg-gray-800 rounded-full overflow-hidden">
                    <div class="h-full bg-gradient-to-r from-purple-500 to-cyan-500 transition-all duration-300 ease-out"
                        id="progress-bar" style="width: 0%"></div>
                </div>
            </div>

            <div id="quiz-container" class="space-y-6">
            </div>

            <div class="mt-10 flex flex-col items-center gap-4 pb-20">
                <button onclick="calcularResultado()"
                    class="px-10 py-4 rounded-xl text-lg font-bold text-white bg-gradient-to-r from-purple-600 to-cyan-500 shadow-xl shadow-purple-500/20 hover:shadow-purple-500/40 hover:scale-105 transform transition-all">
                    FINALIZAR AVALIAÇÃO <i class="fas fa-check-circle ml-2"></i>
                </button>


            </div>
        </div>

        <div id="screen-result" class="hidden fade-in">

            <div
                class="flex flex-col md:flex-row justify-between items-center bg-[#151427] p-8 rounded-2xl border border-white/5 mb-8">
                <div>
                    <h2 class="text-3xl font-black text-white mb-2 tracking-tight">RELATÓRIO DE PERFIL</h2>
                    <p class="text-gray-400 flex items-center gap-2">
                        <i class="far fa-calendar-alt"></i> <span id="report-date">...</span>
                    </p>
                </div>
                <div class="mt-6 md:mt-0 text-center">
                    <div class="text-sm text-gray-500 mb-2 uppercase tracking-widest font-bold">Resultado Global</div>
                    <div id="final-status-badge"
                        class="px-8 py-3 rounded-full text-xl font-bold bg-gray-800 text-gray-400 border border-gray-700">
                        CALCULANDO...
                    </div>
                </div>
            </div>

            <div class="flex justify-end gap-3 mb-8 no-print">
                <button onclick="editarRespostas()"
                    class="px-4 py-2 rounded-lg bg-purple-500/10 text-purple-400 hover:bg-purple-500/20 border border-purple-500/30 transition font-medium text-sm">
                    <i class="fas fa-edit mr-1"></i> Editar Respostas
                </button>
                <button onclick="showScreen('dashboard')"
                    class="px-4 py-2 rounded-lg bg-gray-800 text-gray-300 hover:bg-gray-700 transition font-medium text-sm">
                    <i class="fas fa-arrow-left mr-1"></i> Voltar
                </button>
                <button onclick="window.print()"
                    class="px-4 py-2 rounded-lg bg-cyan-500/10 text-cyan-400 hover:bg-cyan-500/20 border border-cyan-500/30 transition font-medium text-sm">
                    <i class="fas fa-print mr-1"></i> Imprimir PDF
                </button>
            </div>

            <div id="report-content" class="space-y-10">
            </div>

            <div class="mt-20 text-center border-t border-white/5 pt-10 pb-10">
                <p class="text-gray-600 text-sm">Aprovação Psycho - Método Titan</p>
            </div>
        </div>

    </main>

    <script>
        /* ================= DADOS IFP-II ================= */
        // SERÃO INSERIDOS PELO AGENTE
        const DATA_QUESTIONS = [
            {
                "id": 1,
                "text": "Gosto de fazer coisas que outras pessoas consideram fora do comum",
                "facet": "AUTONOMIA"
            },
            {
                "id": 2,
                "text": "Gostaria de realizar um grande feito ou grande obra na minha vida",
                "facet": "DESEMPENHO"
            },
            {
                "id": 3,
                "text": "Gostaria de experimentar novidades e mudanças em meu dia a dia",
                "facet": "MUDANCA"
            },
            {
                "id": 4,
                "text": "Não gosto de situações em que se exige que eu me comporte de determinada maneira",
                "facet": "AUTONOMIA"
            },
            {
                "id": 5,
                "text": "Gosto de dizer o que eu penso a respeito das coisas",
                "facet": "AUTONOMIA"
            },
            {
                "id": 6,
                "text": "Gosto de saber o que grandes personalidades disseram sobre os problemas pelos quais eu me interesso",
                "facet": "DEFERENCIA"
            },
            {
                "id": 7,
                "text": "Gosto de ser capaz de fazer as coisas melhor do que as outras pessoas",
                "facet": "DESEMPENHO"
            },
            {
                "id": 8,
                "text": "Gosto de concluir qualquer trabalho ou tarefa que tenha começado",
                "facet": "PERSISTENCIA"
            },
            {
                "id": 9,
                "text": "Gosto de ajudar meus amigos quando eles estão com problemas",
                "facet": "ASSISTENCIA"
            },
            {
                "id": 10,
                "text": "Não costumo abandonar um quebra-cabeça ou problema antes que consiga resolvê-lo",
                "facet": "PERSISTENCIA"
            },
            {
                "id": 11,
                "text": "Gosto de dizer aos outros como fazer seus trabalhos",
                "facet": "DOMINANCIA"
            },
            {
                "id": 12,
                "text": "Gostaria de ser considerado uma autoridade em algum trabalho, profissão ou campo de especialização",
                "facet": "DESEMPENHO"
            },
            {
                "id": 13,
                "text": "Gostaria de experimentar e provar coisas novas",
                "facet": "MUDANCA"
            },
            {
                "id": 14,
                "text": "Quando tenho alguma tarefa para fazer, gosto de começar logo e permanecer trabalhando até completá-la",
                "facet": "PERSISTENCIA"
            },
            {
                "id": 15,
                "text": "Aceito com prazer a liderança das pessoas que admiro",
                "facet": "DEFERENCIA"
            },
            {
                "id": 16,
                "text": "Gosto de trabalhar horas a fio sem ser interrompido",
                "facet": "PERSISTENCIA"
            },
            {
                "id": 17,
                "text": "Gosto que meus amigos me dêem muita atenção quando estou sofrendo ou doente",
                "facet": "AFAGO"
            },
            {
                "id": 18,
                "text": "Costumo analisar minhas intenções e sentimentos",
                "facet": "INTRACEPCAO"
            },
            {
                "id": 19,
                "text": "Gosto de fazer com carinho pequenos favores a meus amigos",
                "facet": "AFILIACAO"
            },
            {
                "id": 20,
                "text": "Gosto de ficar acordado até tarde para terminar um trabalho",
                "facet": "PERSISTENCIA"
            },
            {
                "id": 21,
                "text": "Gosto de andar pelo pais  e viver em lugares diferentes",
                "facet": "MUDANCA"
            },
            {
                "id": 22,
                "text": "Gosto de analisar os sentimentos e intenções dos outros",
                "facet": "INTRACEPCAO"
            },
            {
                "id": 23,
                "text": "Gosto de fazer gozação com pessoas que fazem coisas que eu considero estúpidas",
                "facet": "AGRESSIVIDADE"
            },
            {
                "id": 24,
                "text": "Tenho vontade de me vingar quando alguém me insulta",
                "facet": "AGRESSIVIDADE"
            },
            {
                "id": 25,
                "text": "Gosto de pensar sobre o caráter dos meus amigos e tentar descobrir o que os faz serem como são",
                "facet": "INTRACEPCAO"
            },
            {
                "id": 26,
                "text": "Sou leal aos meus amigos",
                "facet": "AFILIACAO"
            },
            {
                "id": 27,
                "text": "Gosto de levar trabalho ou tarefa até o fim antes de começar outro",
                "facet": "PERSISTENCIA"
            },
            {
                "id": 28,
                "text": "Gosto de dizer aos meus superiores que eles fizeram um bom trabalho, quando acredito nisso",
                "facet": "DEFERENCIA"
            },
            {
                "id": 29,
                "text": "Gosto que meus amigos sejam solidários comigo e me animem quando estou deprimido",
                "facet": "AFAGO"
            },
            {
                "id": 30,
                "text": "Antes de começar um trabalho, gosto de organizá-lo e planejá-lo",
                "facet": "ORDEM"
            },
            {
                "id": 31,
                "text": "Gosto que meus amigos demonstrem muito afeto por mim",
                "facet": "AFAGO"
            },
            {
                "id": 32,
                "text": "Gosto de realizar tarefas que, na opinião dos outros, exigem habilidade e esforço",
                "facet": "DESEMPENHO"
            },
            {
                "id": 33,
                "text": "Gosto de ser bem sucedido nas coisas que faço",
                "facet": "DESEMPENHO"
            },
            {
                "id": 34,
                "text": "Gosto de fazer amizades",
                "facet": "AFILIACAO"
            },
            {
                "id": 35,
                "text": "Gosto de ser considerado um líder pelos outros",
                "facet": "DOMINANCIA"
            },
            {
                "id": 36,
                "text": "Gosto de realizar com afinco (sem descanso) qualquer trabalho que faço",
                "facet": "PERSISTENCIA"
            },
            {
                "id": 37,
                "text": "Gosto de participar de grupos cujos membros se tratem com afeto e amizade",
                "facet": "AFILIACAO"
            },
            {
                "id": 38,
                "text": "Sinto-me satisfeito quando realizo bem um trabalho difícil",
                "facet": "DESEMPENHO"
            },
            {
                "id": 39,
                "text": "Tenho vontade de mandar os outros calarem a boca quando discordo deles",
                "facet": "AGRESSIVIDADE"
            },
            {
                "id": 40,
                "text": "Gosto de fazer coisas do meu jeito sem me importar com o que os outros possam pensar",
                "facet": "AUTONOMIA"
            },
            {
                "id": 41,
                "text": "Gosto de viajar e conhecer o país",
                "facet": "MUDANCA"
            },
            {
                "id": 42,
                "text": "Gosto de me fixar em um trabalho ou problema mesmo quando a solução pareça extremamente difícil",
                "facet": "PERSISTENCIA"
            },
            {
                "id": 43,
                "text": "Gosto de conhecer pessoas novas",
                "facet": "MUDANCA"
            },
            {
                "id": 44,
                "text": "Gosto de dividir coisas com os outros",
                "facet": "ASSISTENCIA"
            },
            {
                "id": 45,
                "text": "Sinto-me satisfeito quando consigo convencer e influenciar os outros",
                "facet": "DOMINANCIA"
            },
            {
                "id": 46,
                "text": "Gosto de demonstrar muita afeição por meus amigos",
                "facet": "AFILIACAO"
            },
            {
                "id": 47,
                "text": "Gosto de prestar favores aos outros",
                "facet": "ASSISTENCIA"
            },
            {
                "id": 48,
                "text": "Gosto de seguir instruções e fazer o que é esperado de mim",
                "facet": "DEFERENCIA"
            },
            {
                "id": 49,
                "text": "Gosto de elogiar alguém que admiro",
                "facet": "DEFERENCIA"
            },
            {
                "id": 50,
                "text": "Quando planejo alguma coisa, procuro sugestões de pessoas que respeito",
                "facet": "DEFERENCIA"
            },
            {
                "id": 51,
                "text": "Gosto de manter minhas coisas limpas e ordenadas em minha escrivaninha ou em meu local de trabalho",
                "facet": "ORDEM"
            },
            {
                "id": 52,
                "text": "Gosto de manter fortes laços de amizade",
                "facet": "AFILIACAO"
            },
            {
                "id": 53,
                "text": "Gosto que meus amigos me ajudem quando estou com problema",
                "facet": "AFAGO"
            },
            {
                "id": 54,
                "text": "Gosto que meus amigos mostrem boa vontade em me prestar pequenos favores",
                "facet": "AFAGO"
            },
            {
                "id": 55,
                "text": "Gosto de manter minhas cartas, contas e outros papéis bem arrumados e arquivados de acordo com algum sistema",
                "facet": "ORDEM"
            },
            {
                "id": 56,
                "text": "Gosto que meus amigos sejam solidários e compreensivos quando tenho problemas",
                "facet": "AFAGO"
            },
            {
                "id": 57,
                "text": "Prefiro fazer coisas com meus amigos a fazer sozinho",
                "facet": "AFILIACAO"
            },
            {
                "id": 58,
                "text": "Gosto de tratar outras pessoas com bondade e compaixão",
                "facet": "ASSISTENCIA"
            },
            {
                "id": 59,
                "text": "Gosto de comer em restaurantes novo e exóticos (diferentes)",
                "facet": "MUDANCA"
            },
            {
                "id": 60,
                "text": "Procuro entender como meus amigos se sentem a respeito de problemas que eles enfrentam",
                "facet": "INTRACEPCAO"
            },
            {
                "id": 61,
                "text": "Gosto de ser o centro das atenções em um grupo",
                "facet": "EXIBICAO"
            },
            {
                "id": 62,
                "text": "Gosto de ser um dos líderes nas organizações e grupos aos quais pertenço",
                "facet": "DOMINANCIA"
            },
            {
                "id": 63,
                "text": "Gosto de ser independente dos outros para decidir o que quero fazer",
                "facet": "AUTONOMIA"
            },
            {
                "id": 64,
                "text": "Gosto de me manter em contato com meus amigos",
                "facet": "AFILIACAO"
            },
            {
                "id": 65,
                "text": "Quando participo de uma comissão (reunião), gosto de ser indicado ou eleito presidente",
                "facet": "DOMINANCIA"
            },
            {
                "id": 66,
                "text": "Gosto de fazer tantos amigos quanto possível",
                "facet": "AFILIACAO"
            },
            {
                "id": 67,
                "text": "Gosto de observar como uma pessoa se sente numa determinada situação",
                "facet": "INTRACEPCAO"
            },
            {
                "id": 68,
                "text": "Quando estou em um grupo, aceito com prazer a liderança de outra pessoa para decidir o que o grupo fará",
                "facet": "DEFERENCIA"
            },
            {
                "id": 69,
                "text": "Não gosto de me sentir pressionado por responsabilidades e deveres",
                "facet": "AUTONOMIA"
            },
            {
                "id": 70,
                "text": "Às vezes, fico tão irritado que sinto vontade de jogar e quebrar coisas",
                "facet": "AGRESSIVIDADE"
            },
            {
                "id": 71,
                "text": "Gosto de fazer perguntas que ninguém será capaz de responder",
                "facet": "EXIBICAO"
            },
            {
                "id": 72,
                "text": "Às vezes, gosto de fazer coisas simplesmente para ver o efeito que terão sobre os outros",
                "facet": "EXIBICAO"
            },
            {
                "id": 73,
                "text": "Sou solidário com meus amigos quando machucados ou doentes",
                "facet": "ASSISTENCIA"
            },
            {
                "id": 74,
                "text": "Não tenho medo de criticar pessoas que ocupam posições de autoridade",
                "facet": "AUTONOMIA"
            },
            {
                "id": 75,
                "text": "Gosto de fiscalizar e dirigir os atos dos outros sempre que posso",
                "facet": "DOMINANCIA"
            },
            {
                "id": 76,
                "text": "Culpo os outros quando as coisas dão errado comigo",
                "facet": "AGRESSIVIDADE"
            },
            {
                "id": 77,
                "text": "Gosto de ajudar pessoas que têm menos sorte do que eu",
                "facet": "ASSISTENCIA"
            },
            {
                "id": 78,
                "text": "Gosto de planejar e organizar, em todos os detalhes, qualquer trabalho que eu faço",
                "facet": "ORDEM"
            },
            {
                "id": 79,
                "text": "Gosto de fazer coisas novas e diferentes",
                "facet": "MUDANCA"
            },
            {
                "id": 80,
                "text": "Gostaria de realizar com sucesso alguma coisa de grande importância",
                "facet": "DESEMPENHO"
            },
            {
                "id": 81,
                "text": "Quando estou com um grupo de pessoas, gosto de decidir sobre o que vamos fazer",
                "facet": "DOMINANCIA"
            },
            {
                "id": 82,
                "text": "Interesso-me em conhecer a vida de grandes personalidades",
                "facet": "DEFERENCIA"
            },
            {
                "id": 83,
                "text": "Procuro me adaptar ao modo de ser das pessoas que admiro",
                "facet": "DEFERENCIA"
            },
            {
                "id": 84,
                "text": "Gosto de resolver quebra-cabeças e problemas com os quais outras pessoas têm dificuldades",
                "facet": "DESEMPENHO"
            },
            {
                "id": 85,
                "text": "Gosto de falar sobre os meus sucessos",
                "facet": "EXIBICAO"
            },
            {
                "id": 86,
                "text": "Gosto de dar o melhor de mim em tudo que faço",
                "facet": "DESEMPENHO"
            },
            {
                "id": 87,
                "text": "Gosto de estudar e analisar o comportamento dos outros",
                "facet": "INTRACEPCAO"
            },
            {
                "id": 88,
                "text": "Gosto de contar aos outros aventuras e coisas estranhas que acontecem comigo",
                "facet": "EXIBICAO"
            },
            {
                "id": 89,
                "text": "Perdôo as pessoas que às vezes possam me magoar",
                "facet": "ASSISTENCIA"
            },
            {
                "id": 90,
                "text": "Gosto de prever (entender) como meus amigos irão agir em diferentes situações",
                "facet": "INTRACEPCAO"
            },
            {
                "id": 91,
                "text": "Gosto de me sentir livre para fazer o que quero",
                "facet": "AUTONOMIA"
            },
            {
                "id": 92,
                "text": "Gosto de me sentir livre para ir e vir quando quiser",
                "facet": "AUTONOMIA"
            },
            {
                "id": 93,
                "text": "Gosto de usar palavras cujo significado as outras pessoas desconhecem",
                "facet": "EXIBICAO"
            },
            {
                "id": 94,
                "text": "Gosto de planejar antes de iniciar algo difícil",
                "facet": "ORDEM"
            },
            {
                "id": 95,
                "text": "Qualquer trabalho escrito que faço, gosto que seja preciso, limpo e bem organizado",
                "facet": "ORDEM"
            },
            {
                "id": 96,
                "text": "Gosto que as pessoas notem e comentem a minha aparência quando estou em público",
                "facet": "EXIBICAO"
            },
            {
                "id": 97,
                "text": "Gosto que meus amigos me tratem com delicadeza",
                "facet": "AFAGO"
            },
            {
                "id": 98,
                "text": "Gosto de ser generoso com os outros",
                "facet": "ASSISTENCIA"
            },
            {
                "id": 99,
                "text": "Gosto de contar estórias e piadas engraçadas em festas",
                "facet": "EXIBICAO"
            },
            {
                "id": 100,
                "text": "Gosto de dizer coisas que os outros consideram engraçadas e inteligentes",
                "facet": "EXIBICAO"
            }
        ];
        const DATA_CRITERIA = {
            "ASSISTENCIA": { "min": 50, "max": 100 },
            "INTRACEPCAO": { "min": 0, "max": 70 },
            "AFAGO": { "min": 50, "max": 100 },
            "DEFERENCIA": { "min": 30, "max": 100 },
            "AFILIACAO": { "min": 30, "max": 70 },
            "DOMINANCIA": { "min": 50, "max": 100 },
            "DESEMPENHO": { "min": 50, "max": 100 },
            "EXIBICAO": { "min": 0, "max": 50 },
            "AGRESSIVIDADE": { "min": 20, "max": 70 },
            "ORDEM": { "min": 50, "max": 100 },
            "PERSISTENCIA": { "min": 50, "max": 100 },
            "MUDANCA": { "min": 0, "max": 60 },
            "AUTONOMIA": { "min": 40, "max": 100 }
        };
        const DATA_PERCENTILES = {
            "ASSISTENCIA": [{ "s": 1, "p": 5 }, { "s": 2, "p": 5 }, { "s": 3, "p": 5 }, { "s": 4, "p": 5 }, { "s": 5, "p": 5 }, { "s": 6, "p": 5 }, { "s": 7, "p": 5 }, { "s": 8, "p": 5 }, { "s": 9, "p": 5 }, { "s": 10, "p": 5 }, { "s": 11, "p": 5 }, { "s": 12, "p": 5 }, { "s": 13, "p": 5 }, { "s": 14, "p": 5 }, { "s": 15, "p": 5 }, { "s": 16, "p": 5 }, { "s": 17, "p": 5 }, { "s": 18, "p": 5 }, { "s": 19, "p": 5 }, { "s": 20, "p": 5 }, { "s": 21, "p": 5 }, { "s": 22, "p": 5 }, { "s": 23, "p": 5 }, { "s": 24, "p": 5 }, { "s": 25, "p": 5 }, { "s": 26, "p": 5 }, { "s": 27, "p": 5 }, { "s": 28, "p": 5 }, { "s": 29, "p": 5 }, { "s": 30, "p": 5 }, { "s": 31, "p": 5 }, { "s": 32, "p": 5 }, { "s": 33, "p": 5 }, { "s": 34, "p": 5 }, { "s": 35, "p": 5 }, { "s": 36, "p": 10 }, { "s": 37, "p": 10 }, { "s": 38, "p": 15 }, { "s": 39, "p": 20 }, { "s": 40, "p": 25 }, { "s": 41, "p": 30 }, { "s": 42, "p": 35 }, { "s": 43, "p": 45 }, { "s": 44, "p": 50 }, { "s": 45, "p": 55 }, { "s": 46, "p": 60 }, { "s": 47, "p": 70 }, { "s": 48, "p": 75 }, { "s": 49, "p": 75 }, { "s": 50, "p": 80 }, { "s": 51, "p": 85 }, { "s": 52, "p": 90 }, { "s": 53, "p": 90 }, { "s": 54, "p": 95 }, { "s": 55, "p": 95 }, { "s": 56, "p": 100 }],
            "INTRACEPCAO": [{ "s": 1, "p": 5 }, { "s": 2, "p": 5 }, { "s": 3, "p": 5 }, { "s": 4, "p": 5 }, { "s": 5, "p": 5 }, { "s": 6, "p": 5 }, { "s": 7, "p": 5 }, { "s": 8, "p": 5 }, { "s": 9, "p": 5 }, { "s": 10, "p": 5 }, { "s": 11, "p": 5 }, { "s": 12, "p": 5 }, { "s": 13, "p": 5 }, { "s": 14, "p": 5 }, { "s": 15, "p": 5 }, { "s": 16, "p": 5 }, { "s": 17, "p": 5 }, { "s": 18, "p": 5 }, { "s": 19, "p": 5 }, { "s": 20, "p": 5 }, { "s": 21, "p": 5 }, { "s": 22, "p": 5 }, { "s": 23, "p": 5 }, { "s": 24, "p": 5 }, { "s": 25, "p": 10 }, { "s": 26, "p": 10 }, { "s": 27, "p": 15 }, { "s": 28, "p": 20 }, { "s": 29, "p": 25 }, { "s": 30, "p": 25 }, { "s": 31, "p": 30 }, { "s": 32, "p": 40 }, { "s": 33, "p": 45 }, { "s": 34, "p": 50 }, { "s": 35, "p": 55 }, { "s": 36, "p": 65 }, { "s": 37, "p": 70 }, { "s": 38, "p": 75 }, { "s": 39, "p": 80 }, { "s": 40, "p": 80 }, { "s": 41, "p": 85 }, { "s": 42, "p": 90 }, { "s": 43, "p": 90 }, { "s": 44, "p": 90 }, { "s": 45, "p": 95 }, { "s": 46, "p": 95 }, { "s": 47, "p": 95 }, { "s": 48, "p": 95 }, { "s": 49, "p": 100 }],
            "AFAGO": [{ "s": 1, "p": 5 }, { "s": 2, "p": 5 }, { "s": 3, "p": 5 }, { "s": 4, "p": 5 }, { "s": 5, "p": 5 }, { "s": 6, "p": 5 }, { "s": 7, "p": 5 }, { "s": 8, "p": 5 }, { "s": 9, "p": 5 }, { "s": 10, "p": 5 }, { "s": 11, "p": 5 }, { "s": 12, "p": 5 }, { "s": 13, "p": 5 }, { "s": 14, "p": 5 }, { "s": 15, "p": 5 }, { "s": 16, "p": 5 }, { "s": 17, "p": 5 }, { "s": 18, "p": 5 }, { "s": 19, "p": 5 }, { "s": 20, "p": 5 }, { "s": 21, "p": 10 }, { "s": 22, "p": 10 }, { "s": 23, "p": 15 }, { "s": 24, "p": 15 }, { "s": 25, "p": 20 }, { "s": 26, "p": 25 }, { "s": 27, "p": 30 }, { "s": 28, "p": 30 }, { "s": 29, "p": 35 }, { "s": 30, "p": 45 }, { "s": 31, "p": 50 }, { "s": 32, "p": 55 }, { "s": 33, "p": 60 }, { "s": 34, "p": 65 }, { "s": 35, "p": 70 }, { "s": 36, "p": 75 }, { "s": 37, "p": 80 }, { "s": 38, "p": 80 }, { "s": 39, "p": 85 }, { "s": 40, "p": 85 }, { "s": 41, "p": 85 }, { "s": 42, "p": 85 }, { "s": 43, "p": 90 }, { "s": 44, "p": 90 }, { "s": 45, "p": 90 }, { "s": 46, "p": 90 }, { "s": 47, "p": 90 }, { "s": 48, "p": 90 }, { "s": 49, "p": 100 }],
            "DEFERENCIA": [{ "s": 1, "p": 5 }, { "s": 2, "p": 5 }, { "s": 3, "p": 5 }, { "s": 4, "p": 5 }, { "s": 5, "p": 5 }, { "s": 6, "p": 5 }, { "s": 7, "p": 5 }, { "s": 8, "p": 5 }, { "s": 9, "p": 5 }, { "s": 10, "p": 5 }, { "s": 11, "p": 5 }, { "s": 12, "p": 5 }, { "s": 13, "p": 5 }, { "s": 14, "p": 5 }, { "s": 15, "p": 5 }, { "s": 16, "p": 5 }, { "s": 17, "p": 5 }, { "s": 18, "p": 5 }, { "s": 19, "p": 5 }, { "s": 20, "p": 5 }, { "s": 21, "p": 5 }, { "s": 22, "p": 5 }, { "s": 23, "p": 5 }, { "s": 24, "p": 5 }, { "s": 25, "p": 5 }, { "s": 26, "p": 5 }, { "s": 27, "p": 5 }, { "s": 28, "p": 5 }, { "s": 29, "p": 5 }, { "s": 30, "p": 5 }, { "s": 31, "p": 5 }, { "s": 32, "p": 5 }, { "s": 33, "p": 5 }, { "s": 34, "p": 5 }, { "s": 35, "p": 5 }, { "s": 36, "p": 5 }, { "s": 37, "p": 5 }, { "s": 38, "p": 5 }, { "s": 39, "p": 10 }, { "s": 40, "p": 10 }, { "s": 41, "p": 15 }, { "s": 42, "p": 15 }, { "s": 43, "p": 20 }, { "s": 44, "p": 25 }, { "s": 45, "p": 30 }, { "s": 46, "p": 35 }, { "s": 47, "p": 40 }, { "s": 48, "p": 45 }, { "s": 49, "p": 50 }, { "s": 50, "p": 60 }, { "s": 51, "p": 65 }, { "s": 52, "p": 70 }, { "s": 53, "p": 75 }, { "s": 54, "p": 80 }, { "s": 55, "p": 85 }, { "s": 56, "p": 85 }, { "s": 57, "p": 90 }, { "s": 58, "p": 90 }, { "s": 59, "p": 95 }, { "s": 60, "p": 95 }, { "s": 61, "p": 95 }, { "s": 62, "p": 95 }, { "s": 63, "p": 100 }],
            "AFILIACAO": [{ "s": 1, "p": 5 }, { "s": 2, "p": 5 }, { "s": 3, "p": 5 }, { "s": 4, "p": 5 }, { "s": 5, "p": 5 }, { "s": 6, "p": 5 }, { "s": 7, "p": 5 }, { "s": 8, "p": 5 }, { "s": 9, "p": 5 }, { "s": 10, "p": 5 }, { "s": 11, "p": 5 }, { "s": 12, "p": 5 }, { "s": 13, "p": 5 }, { "s": 14, "p": 5 }, { "s": 15, "p": 5 }, { "s": 16, "p": 5 }, { "s": 17, "p": 5 }, { "s": 18, "p": 5 }, { "s": 19, "p": 5 }, { "s": 20, "p": 5 }, { "s": 21, "p": 5 }, { "s": 22, "p": 5 }, { "s": 23, "p": 5 }, { "s": 24, "p": 5 }, { "s": 25, "p": 5 }, { "s": 26, "p": 5 }, { "s": 27, "p": 5 }, { "s": 28, "p": 5 }, { "s": 29, "p": 5 }, { "s": 30, "p": 5 }, { "s": 31, "p": 5 }, { "s": 32, "p": 5 }, { "s": 33, "p": 5 }, { "s": 34, "p": 5 }, { "s": 35, "p": 5 }, { "s": 36, "p": 5 }, { "s": 37, "p": 5 }, { "s": 38, "p": 5 }, { "s": 39, "p": 5 }, { "s": 40, "p": 5 }, { "s": 41, "p": 5 }, { "s": 42, "p": 10 }, { "s": 43, "p": 10 }, { "s": 44, "p": 15 }, { "s": 45, "p": 15 }, { "s": 46, "p": 20 }, { "s": 47, "p": 25 }, { "s": 48, "p": 30 }, { "s": 49, "p": 35 }, { "s": 50, "p": 40 }, { "s": 51, "p": 45 }, { "s": 52, "p": 50 }, { "s": 53, "p": 55 }, { "s": 54, "p": 60 }, { "s": 55, "p": 65 }, { "s": 56, "p": 75 }, { "s": 57, "p": 80 }, { "s": 58, "p": 80 }, { "s": 59, "p": 85 }, { "s": 60, "p": 90 }, { "s": 61, "p": 90 }, { "s": 62, "p": 95 }, { "s": 63, "p": 100 }],
            "DOMINANCIA": [{ "s": 1, "p": 5 }, { "s": 2, "p": 5 }, { "s": 3, "p": 5 }, { "s": 4, "p": 5 }, { "s": 5, "p": 5 }, { "s": 6, "p": 5 }, { "s": 7, "p": 5 }, { "s": 8, "p": 5 }, { "s": 9, "p": 5 }, { "s": 10, "p": 5 }, { "s": 11, "p": 5 }, { "s": 12, "p": 5 }, { "s": 13, "p": 5 }, { "s": 14, "p": 5 }, { "s": 15, "p": 5 }, { "s": 16, "p": 5 }, { "s": 17, "p": 5 }, { "s": 18, "p": 5 }, { "s": 19, "p": 10 }, { "s": 20, "p": 10 }, { "s": 21, "p": 15 }, { "s": 22, "p": 15 }, { "s": 23, "p": 20 }, { "s": 24, "p": 25 }, { "s": 25, "p": 30 }, { "s": 26, "p": 35 }, { "s": 27, "p": 40 }, { "s": 28, "p": 45 }, { "s": 29, "p": 50 }, { "s": 30, "p": 55 }, { "s": 31, "p": 60 }, { "s": 32, "p": 65 }, { "s": 33, "p": 70 }, { "s": 34, "p": 75 }, { "s": 35, "p": 80 }, { "s": 36, "p": 80 }, { "s": 37, "p": 85 }, { "s": 38, "p": 85 }, { "s": 39, "p": 90 }, { "s": 40, "p": 90 }, { "s": 41, "p": 95 }, { "s": 42, "p": 95 }, { "s": 43, "p": 95 }, { "s": 44, "p": 95 }, { "s": 45, "p": 95 }, { "s": 46, "p": 95 }, { "s": 47, "p": 95 }, { "s": 48, "p": 95 }, { "s": 49, "p": 100 }],
            "DESEMPENHO": [{ "s": 1, "p": 5 }, { "s": 2, "p": 5 }, { "s": 3, "p": 5 }, { "s": 4, "p": 5 }, { "s": 5, "p": 5 }, { "s": 6, "p": 5 }, { "s": 7, "p": 5 }, { "s": 8, "p": 5 }, { "s": 9, "p": 5 }, { "s": 10, "p": 5 }, { "s": 11, "p": 5 }, { "s": 12, "p": 5 }, { "s": 13, "p": 5 }, { "s": 14, "p": 5 }, { "s": 15, "p": 5 }, { "s": 16, "p": 5 }, { "s": 17, "p": 5 }, { "s": 18, "p": 5 }, { "s": 19, "p": 5 }, { "s": 20, "p": 5 }, { "s": 21, "p": 5 }, { "s": 22, "p": 5 }, { "s": 23, "p": 5 }, { "s": 24, "p": 5 }, { "s": 25, "p": 5 }, { "s": 26, "p": 5 }, { "s": 27, "p": 5 }, { "s": 28, "p": 5 }, { "s": 29, "p": 5 }, { "s": 30, "p": 5 }, { "s": 31, "p": 5 }, { "s": 32, "p": 5 }, { "s": 33, "p": 5 }, { "s": 34, "p": 5 }, { "s": 35, "p": 5 }, { "s": 36, "p": 5 }, { "s": 37, "p": 5 }, { "s": 38, "p": 5 }, { "s": 39, "p": 5 }, { "s": 40, "p": 5 }, { "s": 41, "p": 5 }, { "s": 42, "p": 10 }, { "s": 43, "p": 10 }, { "s": 44, "p": 15 }, { "s": 45, "p": 15 }, { "s": 46, "p": 20 }, { "s": 47, "p": 25 }, { "s": 48, "p": 30 }, { "s": 49, "p": 35 }, { "s": 50, "p": 40 }, { "s": 51, "p": 45 }, { "s": 52, "p": 50 }, { "s": 53, "p": 55 }, { "s": 54, "p": 65 }, { "s": 55, "p": 70 }, { "s": 56, "p": 75 }, { "s": 57, "p": 80 }, { "s": 58, "p": 85 }, { "s": 59, "p": 90 }, { "s": 60, "p": 90 }, { "s": 61, "p": 95 }, { "s": 62, "p": 95 }, { "s": 63, "p": 100 }],
            "EXIBICAO": [{ "s": 1, "p": 5 }, { "s": 2, "p": 5 }, { "s": 3, "p": 5 }, { "s": 4, "p": 5 }, { "s": 5, "p": 5 }, { "s": 6, "p": 5 }, { "s": 7, "p": 5 }, { "s": 8, "p": 5 }, { "s": 9, "p": 5 }, { "s": 10, "p": 5 }, { "s": 11, "p": 5 }, { "s": 12, "p": 5 }, { "s": 13, "p": 5 }, { "s": 14, "p": 5 }, { "s": 15, "p": 5 }, { "s": 16, "p": 5 }, { "s": 17, "p": 5 }, { "s": 18, "p": 5 }, { "s": 19, "p": 5 }, { "s": 20, "p": 10 }, { "s": 21, "p": 10 }, { "s": 22, "p": 10 }, { "s": 23, "p": 15 }, { "s": 24, "p": 15 }, { "s": 25, "p": 20 }, { "s": 26, "p": 25 }, { "s": 27, "p": 30 }, { "s": 28, "p": 30 }, { "s": 29, "p": 35 }, { "s": 30, "p": 40 }, { "s": 31, "p": 45 }, { "s": 32, "p": 50 }, { "s": 33, "p": 55 }, { "s": 34, "p": 60 }, { "s": 35, "p": 65 }, { "s": 36, "p": 70 }, { "s": 37, "p": 70 }, { "s": 38, "p": 75 }, { "s": 39, "p": 80 }, { "s": 40, "p": 80 }, { "s": 41, "p": 85 }, { "s": 42, "p": 85 }, { "s": 43, "p": 90 }, { "s": 44, "p": 90 }, { "s": 45, "p": 90 }, { "s": 46, "p": 90 }, { "s": 47, "p": 95 }, { "s": 48, "p": 95 }, { "s": 49, "p": 95 }, { "s": 50, "p": 95 }, { "s": 51, "p": 95 }, { "s": 52, "p": 95 }, { "s": 53, "p": 95 }, { "s": 54, "p": 95 }, { "s": 55, "p": 95 }, { "s": 56, "p": 95 }, { "s": 57, "p": 95 }, { "s": 58, "p": 95 }, { "s": 59, "p": 95 }, { "s": 60, "p": 95 }, { "s": 61, "p": 100 }, { "s": 62, "p": 100 }, { "s": 63, "p": 100 }],
            "AGRESSIVIDADE": [{ "s": 1, "p": 15 }, { "s": 2, "p": 15 }, { "s": 3, "p": 15 }, { "s": 4, "p": 15 }, { "s": 5, "p": 15 }, { "s": 6, "p": 25 }, { "s": 7, "p": 35 }, { "s": 8, "p": 40 }, { "s": 9, "p": 50 }, { "s": 10, "p": 55 }, { "s": 11, "p": 65 }, { "s": 12, "p": 70 }, { "s": 13, "p": 75 }, { "s": 14, "p": 80 }, { "s": 15, "p": 80 }, { "s": 16, "p": 85 }, { "s": 17, "p": 90 }, { "s": 18, "p": 90 }, { "s": 19, "p": 90 }, { "s": 20, "p": 95 }, { "s": 21, "p": 95 }, { "s": 22, "p": 95 }, { "s": 23, "p": 95 }, { "s": 24, "p": 95 }, { "s": 25, "p": 95 }, { "s": 26, "p": 95 }, { "s": 27, "p": 95 }, { "s": 28, "p": 95 }, { "s": 29, "p": 95 }, { "s": 30, "p": 95 }, { "s": 31, "p": 95 }, { "s": 32, "p": 95 }, { "s": 33, "p": 95 }, { "s": 34, "p": 95 }],
            "ORDEM": [{ "s": 1, "p": 5 }, { "s": 2, "p": 5 }, { "s": 3, "p": 5 }, { "s": 4, "p": 5 }, { "s": 5, "p": 5 }, { "s": 6, "p": 5 }, { "s": 7, "p": 5 }, { "s": 8, "p": 5 }, { "s": 9, "p": 5 }, { "s": 10, "p": 5 }, { "s": 11, "p": 5 }, { "s": 12, "p": 5 }, { "s": 13, "p": 5 }, { "s": 14, "p": 5 }, { "s": 15, "p": 5 }, { "s": 16, "p": 5 }, { "s": 17, "p": 5 }, { "s": 18, "p": 5 }, { "s": 19, "p": 5 }, { "s": 20, "p": 5 }, { "s": 21, "p": 5 }, { "s": 22, "p": 5 }, { "s": 23, "p": 5 }, { "s": 24, "p": 5 }, { "s": 25, "p": 5 }, { "s": 26, "p": 5 }, { "s": 27, "p": 5 }, { "s": 28, "p": 5 }, { "s": 29, "p": 10 }, { "s": 30, "p": 15 }, { "s": 31, "p": 20 }, { "s": 32, "p": 25 }, { "s": 33, "p": 30 }, { "s": 34, "p": 35 }, { "s": 35, "p": 45 }, { "s": 36, "p": 50 }, { "s": 37, "p": 60 }, { "s": 38, "p": 65 }, { "s": 39, "p": 70 }, { "s": 40, "p": 80 }, { "s": 41, "p": 85 }, { "s": 42, "p": 100 }],
            "PERSISTENCIA": [{ "s": 1, "p": 5 }, { "s": 2, "p": 5 }, { "s": 3, "p": 5 }, { "s": 4, "p": 5 }, { "s": 5, "p": 5 }, { "s": 6, "p": 5 }, { "s": 7, "p": 5 }, { "s": 8, "p": 5 }, { "s": 9, "p": 5 }, { "s": 10, "p": 5 }, { "s": 11, "p": 5 }, { "s": 12, "p": 5 }, { "s": 13, "p": 5 }, { "s": 14, "p": 5 }, { "s": 15, "p": 5 }, { "s": 16, "p": 5 }, { "s": 17, "p": 5 }, { "s": 18, "p": 5 }, { "s": 19, "p": 5 }, { "s": 20, "p": 5 }, { "s": 21, "p": 5 }, { "s": 22, "p": 5 }, { "s": 23, "p": 5 }, { "s": 24, "p": 5 }, { "s": 25, "p": 5 }, { "s": 26, "p": 5 }, { "s": 27, "p": 5 }, { "s": 28, "p": 5 }, { "s": 29, "p": 5 }, { "s": 30, "p": 5 }, { "s": 31, "p": 5 }, { "s": 32, "p": 5 }, { "s": 33, "p": 5 }, { "s": 34, "p": 5 }, { "s": 35, "p": 10 }, { "s": 36, "p": 15 }, { "s": 37, "p": 15 }, { "s": 38, "p": 20 }, { "s": 39, "p": 25 }, { "s": 40, "p": 30 }, { "s": 41, "p": 35 }, { "s": 42, "p": 45 }, { "s": 43, "p": 50 }, { "s": 44, "p": 55 }, { "s": 45, "p": 60 }, { "s": 46, "p": 65 }, { "s": 47, "p": 70 }, { "s": 48, "p": 80 }, { "s": 49, "p": 80 }, { "s": 50, "p": 85 }, { "s": 51, "p": 90 }, { "s": 52, "p": 90 }, { "s": 53, "p": 95 }, { "s": 54, "p": 95 }, { "s": 55, "p": 95 }, { "s": 56, "p": 100 }],
            "MUDANCA": [{ "s": 1, "p": 5 }, { "s": 2, "p": 5 }, { "s": 3, "p": 5 }, { "s": 4, "p": 5 }, { "s": 5, "p": 5 }, { "s": 6, "p": 5 }, { "s": 7, "p": 5 }, { "s": 8, "p": 5 }, { "s": 9, "p": 5 }, { "s": 10, "p": 5 }, { "s": 11, "p": 5 }, { "s": 12, "p": 5 }, { "s": 13, "p": 5 }, { "s": 14, "p": 5 }, { "s": 15, "p": 5 }, { "s": 16, "p": 5 }, { "s": 17, "p": 5 }, { "s": 18, "p": 5 }, { "s": 19, "p": 5 }, { "s": 20, "p": 5 }, { "s": 21, "p": 5 }, { "s": 22, "p": 5 }, { "s": 23, "p": 5 }, { "s": 24, "p": 5 }, { "s": 25, "p": 5 }, { "s": 26, "p": 10 }, { "s": 27, "p": 10 }, { "s": 28, "p": 15 }, { "s": 29, "p": 20 }, { "s": 30, "p": 20 }, { "s": 31, "p": 25 }, { "s": 32, "p": 30 }, { "s": 33, "p": 35 }, { "s": 34, "p": 45 }, { "s": 35, "p": 50 }, { "s": 36, "p": 55 }, { "s": 37, "p": 60 }, { "s": 38, "p": 65 }, { "s": 39, "p": 70 }, { "s": 40, "p": 75 }, { "s": 41, "p": 80 }, { "s": 42, "p": 85 }, { "s": 43, "p": 90 }, { "s": 44, "p": 90 }, { "s": 45, "p": 90 }, { "s": 46, "p": 95 }, { "s": 47, "p": 95 }, { "s": 48, "p": 95 }, { "s": 49, "p": 100 }],
            "AUTONOMIA": [{ "s": 1, "p": 5 }, { "s": 2, "p": 5 }, { "s": 3, "p": 5 }, { "s": 4, "p": 5 }, { "s": 5, "p": 5 }, { "s": 6, "p": 5 }, { "s": 7, "p": 5 }, { "s": 8, "p": 5 }, { "s": 9, "p": 5 }, { "s": 10, "p": 5 }, { "s": 11, "p": 5 }, { "s": 12, "p": 5 }, { "s": 13, "p": 5 }, { "s": 14, "p": 5 }, { "s": 15, "p": 5 }, { "s": 16, "p": 5 }, { "s": 17, "p": 5 }, { "s": 18, "p": 5 }, { "s": 19, "p": 5 }, { "s": 20, "p": 5 }, { "s": 21, "p": 5 }, { "s": 22, "p": 5 }, { "s": 23, "p": 5 }, { "s": 24, "p": 5 }, { "s": 25, "p": 5 }, { "s": 26, "p": 5 }, { "s": 27, "p": 10 }, { "s": 28, "p": 10 }, { "s": 29, "p": 10 }, { "s": 30, "p": 15 }, { "s": 31, "p": 20 }, { "s": 32, "p": 20 }, { "s": 33, "p": 25 }, { "s": 34, "p": 30 }, { "s": 35, "p": 35 }, { "s": 36, "p": 40 }, { "s": 37, "p": 50 }, { "s": 38, "p": 55 }, { "s": 39, "p": 60 }, { "s": 40, "p": 65 }, { "s": 41, "p": 70 }, { "s": 42, "p": 75 }, { "s": 43, "p": 75 }, { "s": 44, "p": 80 }, { "s": 45, "p": 85 }, { "s": 46, "p": 85 }, { "s": 47, "p": 90 }, { "s": 48, "p": 90 }, { "s": 49, "p": 90 }, { "s": 50, "p": 95 }, { "s": 51, "p": 95 }, { "s": 52, "p": 95 }, { "s": 53, "p": 95 }, { "s": 54, "p": 95 }, { "s": 55, "p": 95 }, { "s": 56, "p": 95 }, { "s": 57, "p": 95 }, { "s": 58, "p": 95 }, { "s": 59, "p": 95 }, { "s": 60, "p": 95 }, { "s": 61, "p": 95 }, { "s": 62, "p": 100 }, { "s": 63, "p": 100 }]
        };

        // --- FUNCIONALIDADES EXTRAS ---

        const audioPrepare = new Audio('../vozes/prepare.mp3');
        const audioSignal = new Audio('../vozes/sinal.mp3');
        const audioOneMin = new Audio('../vozes/resta1minuto.mp3');
        const audioTimeUp = new Audio('../vozes/tempoesgotado.mp3');

        let timerInterval;
        let timeRemaining = 30 * 60; // 30 minutos

        function startTimer() {
            clearInterval(timerInterval);
            timeRemaining = 30 * 60;
            updateTimerDisplay();

            // Show Unified Timer
            const timerContainer = document.getElementById('unified-timer-container');
            if (timerContainer) timerContainer.classList.remove('hidden');

            timerInterval = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();

                if (timeRemaining === 60) {
                    audioOneMin.play().catch(e => console.log("Erro audio:", e));
                }

                if (timeRemaining <= 0) {
                    clearInterval(timerInterval);
                    audioTimeUp.play().catch(e => console.log("Erro audio:", e));
                    alert("Tempo esgotado! Tente finalizar o teste.");
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const m = Math.floor(timeRemaining / 60);
            const s = timeRemaining % 60;
            const el = document.getElementById('timer-display');
            const panel = document.getElementById('timer-glass-panel');

            if (el) {
                el.innerText = `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;

                if (timeRemaining < 300) { // 5 min warning
                    el.classList.remove('text-white');
                    el.classList.add('text-red-400', 'animate-pulse');
                    if (panel) {
                        panel.classList.add('border-red-500', 'bg-red-900/40');
                    }
                } else {
                    el.classList.add('text-white');
                    el.classList.remove('text-red-400', 'animate-pulse');
                    if (panel) {
                        panel.classList.remove('border-red-500', 'bg-red-900/40');
                    }
                }
            }
        }

        function filtrarFacetas() {
            const val = document.getElementById('facet-filter').value;
            const cards = document.querySelectorAll('.question-card');

            cards.forEach(card => {
                const facet = card.dataset.facet;
                if (val === 'ALL' || facet === val) {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            });
        }

        function editarRespostas() {
            document.getElementById('screen-result').classList.add('hidden');
            document.getElementById('screen-quiz').classList.remove('hidden');
            window.scrollTo(0, 0);
        }

        /* ================= LÓGICA ================= */

        function showScreen(id) {
            ['dashboard', 'quiz', 'result', 'import'].forEach(s => {
                const el = document.getElementById('screen-' + s);
                if (el) el.classList.add('hidden');
            });
            const target = document.getElementById('screen-' + id);
            if (target) target.classList.remove('hidden');

            if (id === 'dashboard') loadDashboard();
            window.scrollTo(0, 0);
        }

        function abrirImportacao() {
            document.getElementById('input-answers').value = '';
            document.getElementById('count-display').innerText = '0 respostas detectadas';
            showScreen('import');
        }

        document.getElementById('input-answers').addEventListener('input', function () {
            const raw = this.value;
            const answers = raw.split(/[\n, ]+/).filter(v => v.trim() !== "").map(Number);
            document.getElementById('count-display').innerText = `${answers.length} respostas detectadas`;

            if (answers.length === 100) {
                document.getElementById('count-display').className = "text-xs font-bold text-green-400";
            } else {
                document.getElementById('count-display').className = "text-xs font-bold text-red-400";
            }
        });

        function processarInputImportado() {
            const raw = document.getElementById('input-answers').value;
            const answers = raw.split(/[\n, ]+/).filter(v => v.trim() !== "").map(Number);

            if (answers.length !== DATA_QUESTIONS.length) {
                alert(`Erro: Você forneceu ${answers.length} respostas, mas o teste requer exatamente ${DATA_QUESTIONS.length}.`);
                return;
            }

            const invalid = answers.some(n => isNaN(n) || n < 1 || n > 7);
            if (invalid) {
                if (!confirm("Alguns valores parecem inválidos (fora de 1-7). Continuar mesmo assim?")) return;
            }

            calcularResultado(answers);
        }

        function novoTeste() {
            if (confirm("Iniciar novo teste?")) {
                document.querySelectorAll('input').forEach(i => i.checked = false);
                updateProgress();
                showScreen('quiz');

                // Audio Autoplay
                audioPrepare.play().then(() => {
                    audioPrepare.onended = () => {
                        audioSignal.play().then(() => {
                            startTimer();
                        }).catch(e => {
                            console.error(e);
                            startTimer();
                        });
                    };
                }).catch(e => {
                    console.error("Autoplay prevent:", e);
                    startTimer();
                });
            }
        }

        function updateProgress() {
            const total = DATA_QUESTIONS.length;
            const done = document.querySelectorAll('input:checked').length;
            const pct = total > 0 ? Math.round((done / total) * 100) : 0;
            document.getElementById('progress-bar').style.width = pct + '%';
            document.getElementById('progress-text').innerText = pct + '%';
        }

        function renderQuiz() {
            const container = document.getElementById('quiz-container');
            if (DATA_QUESTIONS.length === 0) {
                container.innerHTML = '<div class="text-white">Carregando dados...</div>';
                return;
            }

            let html = '';
            DATA_QUESTIONS.forEach(q => {
                html += `
    <div class="question-card bg-[#1c1b29] p-6 rounded-xl border border-white/5 relative group hover:border-purple-500/20 transition-all scroll-mt-32" data-facet="${q.facet}">
        <div class="flex gap-3 mb-4 pl-2">
            <span class="text-purple-400 font-bold font-mono">#${q.id}</span>
            <p class="text-gray-200 font-medium">${q.text}</p>
        </div>
        <div class="grid grid-cols-9 gap-1 items-center">
            <span class="col-span-1 text-[10px] text-gray-500 text-center uppercase font-bold">Discordo</span>
            ${[1, 2, 3, 4, 5, 6, 7].map(v => `
                <label class="scale-option cursor-pointer relative group/opt">
                    <input type="radio" name="q${q.id}" value="${v}" class="peer sr-only" onchange="updateProgress()">
                    <div class="h-10 w-full bg-[#0f0e1a] border border-white/10 rounded-md flex items-center justify-center text-gray-400 font-bold transition-all peer-checked:bg-purple-600 peer-checked:text-white peer-checked:border-purple-500 hover:bg-white/5 hover:border-white/20">
                        ${v}
                    </div>
                </label>
            `).join('')}
            <span class="col-span-1 text-[10px] text-gray-500 text-center uppercase font-bold">Concordo</span>
        </div>
    </div>`;
            });
            container.innerHTML = html;
        }

        function calculate() { console.warn("Use calcularResultado()"); } // Deprecated alias if any

        function calcularResultado(pastedAnswers = null) {
            let scores = {};
            let answered = 0;
            let userAnswers = {};

            // Inicializa scores
            for (let f in DATA_CRITERIA) scores[f] = 0;

            if (pastedAnswers) {
                // Modo Importação
                answered = pastedAnswers.length;
                DATA_QUESTIONS.forEach((q, i) => {
                    let val = pastedAnswers[i];
                    userAnswers[q.id] = val; // Store for report
                    if (q.inverted) val = 8 - val; // In IFP-II range is 1-7. Inverted: 8 - val.
                    if (scores[q.facet] !== undefined) scores[q.facet] += val;
                });
            } else {
                // Modo DOM
                // Stop Timer
                clearInterval(timerInterval);

                for (let i = 1; i <= DATA_QUESTIONS.length; i++) {
                    const el = document.querySelector(`input[name="q${i}"]:checked`);
                    if (el) {
                        answered++;
                        let val = parseInt(el.value);
                        const q = DATA_QUESTIONS.find(x => x.id === i);

                        userAnswers[i] = val;

                        if (q) {
                            if (q.inverted) val = 8 - val; // Check inversion logic for IFP-II (1-7 scale)
                            // Note: Original code didn't check inverted property in HTML but loop logic did? 
                            // Wait, looking at original file, there was NO inversion logic in the snippet I saw? 
                            // Let me re-verify inversion. IFP-II usually has inversions. 
                            // The provided DATA_QUESTIONS in previous turn didn't seem to have "inverted: true" property explicitly shown in the array snippet I generated?
                            // User provided DATA_QUESTIONS earlier... wait, I generated them.
                            // Actually, standard IFP-II DOES NOT usually invert in raw sum unless specified.
                            // Let's assume standard sum for now, BUT `bfppmpr` had `8-val`.
                            // Checking my `view_file` of `ifp2.html`:
                            // The DATA_QUESTIONS I saw didn't have `inverted` key.
                            // The `calcularResultado` I saw had: `if (q && q.inverted) val = 6 - val;`. (Wait, 6-val? Scale is 1-7?)
                            // If scale is 1-7, inversion is 8-val. 
                            // If `q.inverted` is undefined, it won't run.
                            // I will keep the logic I saw in `neopipmpr` reference or `ifp2` reference?
                            // In `ifp2pmpr` lines 587+: `if (q && q.inverted) val = 6 - val;` was in my memory of `neopipmpr`? 
                            // No, in `ifp2pmpr` I need to be careful.
                            // The `DATA_QUESTIONS` in `ifp2pmpr` DO NOT have `inverted` property in the array I injected/saw.
                            // So just sum.
                            if (scores[q.facet] !== undefined) scores[q.facet] += val;
                        }
                    }
                }
            }



            if (answered < DATA_QUESTIONS.length) {
                if (!confirm(`Respondeu apenas ${answered} de ${DATA_QUESTIONS.length}. Continuar?`)) return;
            }

            let results = {};
            let isGlobalApto = true;

            for (let f in scores) {
                const raw = scores[f];
                let pct = 0;
                const table = DATA_PERCENTILES[f];

                if (table) {
                    for (let i = 0; i < table.length; i++) {
                        if (raw >= table[i].s) {
                            pct = table[i].p;
                        } else {
                            break;
                        }
                    }
                }

                const crit = DATA_CRITERIA[f] || { min: 0, max: 100 };
                const apto = pct >= crit.min && pct <= crit.max;
                if (!apto) isGlobalApto = false;

                results[f] = { raw, pct, apto, min: crit.min, max: crit.max };
            }

            renderReport(results, isGlobalApto, userAnswers);
        }

        function renderReport(res, globalStatus, userAnswers) {
            document.getElementById('screen-quiz').classList.add('hidden');
            document.getElementById('screen-result').classList.remove('hidden');
            window.scrollTo(0, 0);

            document.getElementById('report-date').innerText = new Date().toLocaleString();
            document.getElementById('report-date').innerText = new Date().toLocaleString();

            const badge = document.getElementById('final-status-badge');
            // CHANGE: Update parent container content for Inapto message
            const statusContainer = badge.parentElement;

            if (globalStatus) {
                statusContainer.innerHTML = `
                    <div class="text-sm text-gray-500 mb-2 uppercase tracking-widest font-bold">Resultado Global</div>
                    <div id="final-status-badge" class="px-8 py-3 rounded-full text-xl font-bold bg-green-500/10 text-green-400 border border-green-500/30">
                        APTO
                    </div>
                `;
            } else {
                statusContainer.innerHTML = `
                    <div class="flex flex-col items-center">
                        <div class="loser-text">
                            VOCÊ FICOU<br>INAPTO!
                        </div>
                        <span class="px-6 py-2 rounded-full text-sm font-bold border bg-red-500/20 text-red-400 border-red-500 shadow-[0_0_20px_rgba(239,68,68,0.3)]">
                            <i class="fas fa-times-circle mr-2"></i> REPROVADO
                        </span>
                    </div>
                `;
            }

            const container = document.getElementById('report-content');
            let html = '';

            html += `
                <div class="mb-8">
                    <h3 class="text-xl font-bold text-white mb-4 flex items-center gap-2 border-b border-white/10 pb-2">
                        <i class="fas fa-layer-group text-purple-500" style="text-shadow: 0 0 10px var(--primary-purple);"></i> 
                        <span class="neon-text">NECESSIDADES PSICOLÓGICAS</span>
                    </h3>
                    <div class="grid grid-cols-1 gap-3">
            `;

            for (let facet in DATA_CRITERIA) {
                const r = res[facet];
                if (!r) continue;

                const isApto = r.apto;
                const statusText = isApto ? "APTO" : "INAPTO";
                const statusColor = isApto
                    ? "text-green-400 bg-green-500/10 border border-green-500/50 shadow-[0_0_10px_rgba(34,197,94,0.3)]"
                    : "text-red-400 bg-red-500/10 border border-red-500/50 shadow-[0_0_10px_rgba(239,68,68,0.3)]";

                const markerColor = isApto ? 'bg-cyan-400 shadow-[0_0_15px_#22d3ee]' : 'bg-red-500 shadow-[0_0_15px_#ef4444]';

                const left = r.min + '%';
                const width = (r.max - r.min) + '%';
                const marker = Math.min(100, Math.max(0, r.pct)) + '%';

                html += `
                    <div class="bg-[#1a1a2e]/80 backdrop-blur-sm p-4 rounded-xl border border-white/5 flex flex-col gap-3 hover:border-purple-500/30 transition-all hover:shadow-[0_0_15px_rgba(159,84,255,0.1)]">
                        <div class="flex flex-col md:flex-row items-center gap-4">
                            <div class="w-full md:w-1/4 font-medium text-gray-300 text-sm flex items-center gap-2">
                                 <div class="w-1.5 h-1.5 rounded-full ${isApto ? 'bg-purple-500' : 'bg-red-500'}"></div>
                                 <div class="font-bold text-white uppercase tracking-wider">${facet}</div>
                            </div>
    
                            <div class="w-full md:w-1/2 h-6 bg-black/50 rounded-full relative overflow-hidden border border-white/10 shadow-inner">
                                <div class="absolute top-1 bottom-1 bg-gradient-to-r from-blue-600/30 to-cyan-400/30 border-x border-cyan-400/50 shadow-[0_0_10px_rgba(34,211,238,0.2)]" 
                                     style="left: ${left}; width: ${width};" 
                                     title="Meta: ${r.min}-${r.max}%">
                                </div>
                                <div class="absolute top-0 bottom-0 w-1.5 ${markerColor} z-10" 
                                     style="left: ${marker}; transition: left 1s cubic-bezier(0.4, 0, 0.2, 1);">
                                </div>
                            </div>
    
                            <div class="w-full md:w-1/4 flex justify-between md:justify-end items-center gap-4">
                                <div class="text-right">
                                    <div class="text-xs text-gray-500">Raw: ${r.raw}</div>
                                    <div class="text-sm font-mono text-white font-bold">${r.pct}%</div>
                                </div>
                                <span class="text-xs font-bold px-3 py-1 rounded-full ${statusColor}">${statusText}</span>
                            </div>
                        </div>`;

                if (!isApto) {
                    const facetQuestions = DATA_QUESTIONS.filter(q => q.facet === facet);
                    html += `
                        <div class="mt-2 pt-3 border-t border-white/5 animate-fade-in">
                            <p class="text-xs font-bold text-red-400 mb-2 uppercase flex items-center gap-2">
                                <i class="fas fa-exclamation-triangle"></i> Detalhamento dos Itens (Critério Reprovado)
                            </p>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                    `;

                    facetQuestions.forEach(q => {
                        const val = userAnswers[q.id] || 0;
                        html += `
                            <div class="flex justify-between items-center bg-black/40 px-3 py-2 rounded border border-white/5">
                                <span class="text-[10px] text-gray-400 line-clamp-2 pr-2" title="${q.text}">#${q.id} ${q.text}</span>
                                <span class="text-xs font-mono font-bold ${val >= 4 ? 'text-yellow-400' : 'text-gray-500'}">Resp: ${val}</span>
                            </div>
                        `;
                    });

                    html += `   </div>
                        </div>
                    `;
                }

                html += `</div>`;
            }
            html += `</div></div>`;

            container.innerHTML = html;

            const h = JSON.parse(localStorage.getItem('ifpii_history') || '[]');
            h.unshift({ date: new Date().toLocaleString(), status: globalStatus ? 'APTO' : 'INAPTO' });
            localStorage.setItem('ifpii_history', JSON.stringify(h));
        }

        // Histórico (adaptado para usar ifpii_history)
        function loadDashboard() {
            const h = JSON.parse(localStorage.getItem('ifpii_history') || '[]');
            document.getElementById('dash-total').innerText = h.length;
            if (h.length) {
                document.getElementById('dash-last-date').innerText = h[0].date;
                document.getElementById('dash-last-status').innerText = h[0].status;
                document.getElementById('dash-last-status').className = h[0].status == 'APTO' ? 'text-green-400 font-bold text-sm' : 'text-red-400 font-bold text-sm';
            }

            const dashboardContainer = document.getElementById('history-container');
            if (h.length === 0) {
                dashboardContainer.innerHTML = '<tr><td colspan="4" class="px-6 py-10 text-center text-gray-500">Nenhum teste detectado.</td></tr>';
                return;
            }

            dashboardContainer.innerHTML = h.map(i => `
             <tr class="border-b border-white/5 last:border-0 hover:bg-white/5 transition">
                <td class="px-6 py-4 font-medium text-white">IFP-II Completo</td>
                <td class="px-6 py-4 text-gray-400">${i.date}</td>
                <td class="px-6 py-4 text-center font-bold ${i.status == 'APTO' ? 'text-green-400' : 'text-red-400'}">${i.status}</td>
                <td class="px-6 py-4 text-right">
                     <span class="text-xs text-gray-500">Salvo</span>
                </td>
            </tr>
        `).join('');
        }

        function limparHistorico() {
            if (confirm("Apagar todo o histórico?")) {
                localStorage.removeItem('ifpii_history');
                location.reload();
            }
        }

        window.onload = function () {
            renderQuiz();
            loadDashboard();
        };

    </script>
</body>

</html>
