<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>DEBUG BFP | Aprovação Psycho</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-page: #0f0e1a;
            --bg-card: #151427;
            --primary: #9f54ff;
            --secondary: #00c2ff;
            --accent: #ff00ff;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-page);
            color: #b6b6d1;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-page);
        }

        ::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 4px;
        }

        .glass-panel {
            background: rgba(21, 20, 39, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .text-gradient {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .btn-neon {
            background: linear-gradient(90deg, var(--accent), var(--secondary));
            color: white;
            font-weight: 700;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(159, 84, 255, 0.3);
        }

        .btn-neon:hover {
            box-shadow: 0 0 25px rgba(159, 84, 255, 0.5);
            transform: translateY(-2px);
        }

        .fade-in {
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hidden {
            display: none;
        }

        @media print {
            .no-print {
                display: none !important;
            }

            body {
                background: white;
                color: black;
            }

            .bg-card {
                border: 1px solid #ccc;
                background: none;
            }

            .glass-panel {
                display: none;
            }
        }
    </style>
</head>

<body class="flex flex-col min-h-screen">

    <nav class="glass-panel sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
            <div class="flex items-center gap-3 cursor-pointer" onclick="location.reload()">
                <div
                    class="w-10 h-10 rounded-lg bg-red-600 flex items-center justify-center shadow-lg shadow-red-500/20">
                    <i class="fas fa-bug text-white text-lg"></i>
                </div>
                <div>
                    <h1 class="font-bold text-xl text-white tracking-wide">APROVAÇÃO <span
                            class="text-red-500">DEBUG</span></h1>
                    <p class="text-[10px] text-gray-500 font-bold tracking-widest uppercase">Testador de Lógica BFP</p>
                </div>
            </div>
        </div>
    </nav>

    <main class="flex-grow max-w-7xl w-full mx-auto px-6 py-10">

        <div id="screen-input" class="fade-in">
            <div class="bg-[#151427] p-8 rounded-2xl border border-white/5 mb-8 w-full max-w-4xl mx-auto">
                <h2 class="text-2xl font-bold text-white mb-4">Entrada de Dados (Respostas)</h2>
                <p class="text-gray-400 mb-4 text-sm">Cole abaixo a lista de números (um por linha ou separados por
                    espaço/vírgula). A lógica espera exatamente 126 respostas.</p>

                <textarea id="input-answers"
                    class="w-full h-64 bg-[#0f0e1a] border border-white/10 rounded-xl p-4 text-white font-mono text-xs focus:ring-2 focus:ring-purple-500 outline-none"
                    placeholder="Ex: 
4
6
2
..."></textarea>

                <div class="flex justify-between items-center mt-4">
                    <span id="count-display" class="text-xs font-bold text-gray-500">0 respostas detectadas</span>
                    <button onclick="processarInput()" class="btn-neon px-8 py-3 rounded-lg flex items-center gap-2">
                        <i class="fas fa-calculator"></i> CALCULAR RESULTADO
                    </button>
                </div>
            </div>
        </div>

        <div id="screen-result" class="hidden">
            <div
                class="flex flex-col md:flex-row justify-between items-center bg-[#151427] p-8 rounded-2xl border border-white/5 mb-8 shadow-2xl relative overflow-hidden">
                <div class="absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-purple-500 to-cyan-500"></div>
                <div class="z-10">
                    <h2 class="text-3xl font-black text-white mb-1">RELATÓRIO DE DEBUG</h2>
                    <p class="text-gray-400 text-sm flex items-center gap-2"><i class="far fa-calendar-alt"></i> <span
                            id="report-date">...</span></p>
                </div>
                <div class="mt-4 md:mt-0 flex gap-3 no-print z-10">
                    <button onclick="location.reload()"
                        class="px-4 py-2 rounded-lg bg-gray-800 hover:bg-gray-700 text-white text-sm font-medium transition">Novo
                        Teste</button>
                </div>
            </div>

            <div id="result-content" class="space-y-8"></div>
        </div>

    </main>

    <script>
        // ==========================================================================
        // DADOS DO BFP (COPIADOS DO ORIGINAL)
        // ==========================================================================

        const DATA_QUESTIONS = [
            { "id": 1, "text": "PROCURO SEGUIR AS REGRAS SOCIAIS SEM QUESTIONÁ-LAS", "facet": "A2", "inverted": true },
            { "id": 2, "text": "TENTO FAZER COM QUE AS PESSOAS SE SINTAM BEM", "facet": "S1", "inverted": false },
            { "id": 3, "text": "GOSTO DE FALAR SOBRE MIM", "facet": "E2", "inverted": false },
            { "id": 4, "text": "TENHO UM CORAÇÃO MOLE", "facet": "S1", "inverted": false },
            { "id": 5, "text": "FALO TUDO QUE PENSO", "facet": "E2", "inverted": false },
            { "id": 6, "text": "GOSTO DE FAZER COISAS QUE NUNCA FIZ ANTES", "facet": "A3", "inverted": false },
            { "id": 7, "text": "ACREDITO QUE AS PESSOAS TÊM BOAS INTENÇÕES", "facet": "S3", "inverted": false },
            { "id": 8, "text": "SOU DIVERTIDO", "facet": "E4", "inverted": false },
            { "id": 9, "text": "TOMO CUIDADO COM O QUE FALO", "facet": "R2", "inverted": false },
            { "id": 10, "text": "DIFICILMENTE PERDOO", "facet": "S3", "inverted": true },
            { "id": 11, "text": "DIVIRTO ME QUANDO ESTOU ENTRE VARIAS PESSOAS", "facet": "E4", "inverted": false },
            { "id": 12, "text": "RESPEITO OS SENTIMENTOS ALHEIOS", "facet": "S1", "inverted": false },
            { "id": 13, "text": "MESMO QUANDO PRECISO RESOLVER ALGUMA COISA PARA MIM, COSTUMO ADIAR ATÉ O ÚLTIMO MOMENTO", "facet": "N3", "inverted": false },
            { "id": 14, "text": "TENTO INFLUENCIAR OS OUTROS", "facet": "E2", "inverted": false },
            { "id": 15, "text": "SOU GENEROSO", "facet": "S1", "inverted": false },
            { "id": 16, "text": "ESTOU SATISFEITO COMIGO MESMO", "facet": "N4", "inverted": true },
            { "id": 17, "text": "NÃO FALO MUITO", "facet": "E1", "inverted": true },
            { "id": 18, "text": "POSSO AGREDIR FISICAMENTE AS PESSOAS QUANDO FICO MUITO IRRITADO", "facet": "S2", "inverted": true },
            { "id": 19, "text": "RESOLVO MEUS PROBLEMAS SEM PENSAR MUITO", "facet": "R2", "inverted": true },
            { "id": 20, "text": "PREOCUPO-ME COM TODOS", "facet": "S1", "inverted": false },
            { "id": 21, "text": "GERALMENTE ME SINTO FELIZ", "facet": "E3", "inverted": false },
            { "id": 22, "text": "PRECISO DE ESTÍMULOS PARA COMEÇAR A FAZER AS COISAS", "facet": "N3", "inverted": false },
            { "id": 23, "text": "TENHO POUCO INTERESSE POR EXPOSIÇÕES DE ARTE", "facet": "A1", "inverted": true },
            { "id": 24, "text": "DIVIRTO-ME CONTRARIANDO AS PESSOAS", "facet": "S2", "inverted": true },
            { "id": 25, "text": "COM FREQUÊNCIA TOMO DECISÕES PRECIPITADAS", "facet": "N2", "inverted": false },
            { "id": 26, "text": "FACILMENTE COLOCO AS MINHAS IDEIAS EM PRÁTICA", "facet": "E3", "inverted": false },
            { "id": 27, "text": "USO AS PESSOAS PARA CONSEGUIR O QUE DESEJO", "facet": "S2", "inverted": true },
            { "id": 28, "text": "POSSO LIDAR COM MUITAS TAREFAS AO MESMO TEMPO", "facet": "R1", "inverted": false },
            { "id": 29, "text": "QUASE SEMPRE ME SINTO DESANIMADO", "facet": "N4", "inverted": false },
            { "id": 30, "text": "SUSPEITO DAS INTENÇÕES DAS PESSOAS", "facet": "S3", "inverted": true },
            { "id": 31, "text": "ATUALMENTE, DEFENDO IDEIAS DIFERENTES DAQUELAS QUE DEFENDIA ANTIGAMENTE", "facet": "A2", "inverted": false },
            { "id": 32, "text": "CONSIGO O QUE EU QUERO", "facet": "E3", "inverted": false },
            { "id": 33, "text": "TENHO POUCA CURIOSIDADE PARA CONHECER NOVOS ESTILOS MUSICAIS", "facet": "A1", "inverted": true },
            { "id": 34, "text": "DEDICO-ME MUITO PARA FAZER BEM AS COISAS", "facet": "R3", "inverted": false },
            { "id": 35, "text": "ESPERO PELA DECISÃO DOS OUTROS", "facet": "N3", "inverted": false },
            { "id": 36, "text": "INTERESSO-ME POR TEORIAS QUE TENTAM EXPLICAR O UNIVERSO", "facet": "A1", "inverted": false },
            { "id": 37, "text": "TENHO POUCA PACIÊNCIA PARA TERMINAR TAREFAS MUITO LONGAS OU DIFÍCEIS", "facet": "N3", "inverted": false },
            { "id": 38, "text": "SOU UMA PESSOA TÍMIDA", "facet": "E1", "inverted": true },
            { "id": 39, "text": "TENHO ALGUNS INIMIGOS", "facet": "S3", "inverted": true },
            { "id": 40, "text": "ACHO QUE A MINHA VIDA É VAZIA E SEM EMOÇÃO", "facet": "N4", "inverted": false },
            { "id": 41, "text": "COMEÇO RAPIDAMENTE AS TAREFAS QUE TENHO PARA FAZER", "facet": "R1", "inverted": false },
            { "id": 42, "text": "ACHO POUCO INTERESSANTES EXPOSIÇÕES FOTOGRÁFICAS", "facet": "A1", "inverted": true },
            { "id": 43, "text": "RESPEITO O PONTO DE VISTA DOS OUTROS", "facet": "S1", "inverted": false },
            { "id": 44, "text": "TENHO DIFICULDADE PARA ME ADAPTAR A TRABALHOS QUE ENVOLVAM UMA ROTINA FIXA", "facet": "A3", "inverted": true },
            { "id": 45, "text": "ANTES DE AGIR, PENSO NO QUE PODE ME ACONTECER", "facet": "R2", "inverted": false },
            { "id": 46, "text": "SINTO-ME MAL SE NÃO CUMPRO ALGO QUE PROMETI", "facet": "S1", "inverted": false },
            { "id": 47, "text": "ADORO ATIVIDADES EM GRUPO", "facet": "E4", "inverted": false },
            { "id": 48, "text": "TUDO O QUE POSSO VER A MINHA FRENTE É MAIS DESPRAZER DO QUE PRAZER", "facet": "N4", "inverted": false },
            { "id": 49, "text": "GOSTO E IR A LUGARES QUE NÃO CONHEÇO", "facet": "A3", "inverted": false },
            { "id": 50, "text": "CONVERSO COM MUITAS PESSOAS DIFERENTES QUANDO VOU A FESTAS", "facet": "E4", "inverted": false },
            { "id": 51, "text": "AJO IMPULSIVAMENTE QUANDO ALGUMA COISA ESTÁ ME ABORRECENDO", "facet": "N2", "inverted": false },
            { "id": 52, "text": "GOSTO DE TER UMA VIDA SOCIAL AGITADA", "facet": "E4", "inverted": false },
            { "id": 53, "text": "PARTICIPAR DE ATIVIDADES QUE ENVOLVAM CRIATIVIDADE E/OU FANTASIA ME EMPOLGA", "facet": "A1", "inverted": false },
            { "id": 54, "text": "ME ESFORÇO PARA TER DESTAQUE NA ESCOLA OU NO TRABALHO", "facet": "R3", "inverted": false },
            { "id": 55, "text": "GERALMENTE FAÇO O QUE MEUS AMIGOS E PARENTES QUEREM,EMBORA NÃO CONCORDE COM ELES, COM MEDO DE QUE SE AFASTEM DE MIM", "facet": "N1", "inverted": false },
            { "id": 56, "text": "TENHO POUCO INTERESSE POR IDEIAS ABSTRATAS", "facet": "A1", "inverted": true },
            { "id": 57, "text": "ACHO QUE OS OUTROS ZOMBAM DE MIM", "facet": "S3", "inverted": true },
            { "id": 58, "text": "COSTUMO FAZER SACRIFÍCIOS PARA CONSEGUIR O QUE QUERO", "facet": "R1", "inverted": false },
            { "id": 59, "text": "ACHO NATURAL QUE OS VALORES MORAIS MUDEM AO LONGO DO TEMPO", "facet": "A2", "inverted": false },
            { "id": 60, "text": "TENHO MUITO MEDO DE QUE MEUS AMIGOS DEIXEM DE GOSTAR DE MIM", "facet": "N1", "inverted": false },
            { "id": 61, "text": "TENTO INCENTIVAR AS PESSOAS", "facet": "S1", "inverted": false },
            { "id": 62, "text": "SOU UMA PESSOA COM POUCA IMAGINAÇÃO", "facet": "A1", "inverted": true },
            { "id": 63, "text": "FAÇO COISAS CONSIDERADAS PERIGOSAS", "facet": "S2", "inverted": true },
            { "id": 64, "text": "PENSO SOBRE O QUE PRECISO FAZER PARA ALCANÇAR MEUS OBJETIVOS", "facet": "R1", "inverted": false },
            { "id": 65, "text": "SOU UMA PESSOA NERVOSA", "facet": "N2", "inverted": false },
            { "id": 66, "text": "COSTUMO FICAR CALADO QUANDO ESTOU ENTRE ESTRANHOS", "facet": "E1", "inverted": true },
            { "id": 67, "text": "RESOLVO MEUS PROBLEMAS COM RAPIDEZ", "facet": "R1", "inverted": false },
            { "id": 68, "text": "CONFIO NO QUE AS PESSOAS DIZEM", "facet": "S3", "inverted": false },
            { "id": 69, "text": "ACHO QUE NÃO EXISTE UMA VERDADE ABSOLUTA", "facet": "A2", "inverted": false },
            { "id": 70, "text": "POR MAIS QUE ME ESFORCE, SEI QUE NÃO SOU CAPAZ DE SUPERAR OS OBSTÁCULOS QUE TENHO QUE ENFRENTAR NO DIA A DIA", "facet": "N4", "inverted": false },
            { "id": 71, "text": "ENVOLVO-ME RAPIDAMENTE COM OS OUTROS", "facet": "E4", "inverted": false },
            { "id": 72, "text": "GOSTO DE PENSAR SOBRE SOLUÇÕES DIFERENTES PARA PROBLEMAS COMPLEXOS", "facet": "R1", "inverted": false },
            { "id": 73, "text": "DEIXO DE FAZER AS COISAS QUE DESEJO POR MEDO DE SER CRITICADO PELOS OUTROS", "facet": "N1", "inverted": false },
            { "id": 74, "text": "ACREDITO QUE A MAIORIA DOS VALORES MORAIS SÃO DEPENDENTES DA ÉPOCA E DO LUGAR", "facet": "A2", "inverted": false },
            { "id": 75, "text": "FICO MUITO TÍMIDO QUANDO ESTOU ENTRE DESCONHECIDOS", "facet": "N1", "inverted": false },
            { "id": 76, "text": "PREOCUPO-ME EM AGIR SEGUNDO AS LEIS", "facet": "S2", "inverted": false },
            { "id": 77, "text": "MEU HUMOR VARIA CONSTANTEMENTE", "facet": "N2", "inverted": false },
            { "id": 78, "text": "NECESSITO ESTAR NO CENTRO DAS ATENÇÕES", "facet": "E2", "inverted": false },
            { "id": 79, "text": "SINTO-ME MUITO INSEGURO QUANDO TENHO QUE FAZER COISAS QUE NUNCA FIZ ANTES", "facet": "N1", "inverted": false },
            { "id": 80, "text": "AS PESSOAS DIZEM QUE SOU MUITO DETALHISTA", "facet": "R3", "inverted": false },
            { "id": 81, "text": "EVITO DISCUSSÕES FILOSÓFICAS", "facet": "A1", "inverted": true },
            { "id": 82, "text": "NÃO GOSTO DE EXPRESSAR MINHAS IDEIAS, POIS TENHO MEDO DE SER RIDICULARIZADO", "facet": "N1", "inverted": false },
            { "id": 83, "text": "SOU  CAPAZ DE ASSUMIR TAREFAS IMPORTANTES", "facet": "R1", "inverted": false },
            { "id": 84, "text": "GOSTO DE MANTER A ROTINA", "facet": "A3", "inverted": true },
            { "id": 85, "text": "ACHO QUE FAÇO BEM AS COISAS", "facet": "R1", "inverted": false },
            { "id": 86, "text": "SOU UMA PESSOA IRRITÁVEL", "facet": "N2", "inverted": false },
            { "id": 87, "text": "COSTUMO ENGANAR AS PESSOAS", "facet": "S2", "inverted": true },
            { "id": 88, "text": "GOSTO DE TRABALHOS ARTÍSTICOS QUE SÃO CONSIDERADOS ESTRANHOS", "facet": "A1", "inverted": false },
            { "id": 89, "text": "TENHO MUITA DIFICULDADE DE TOMAR DECISÕES EM MINHA VIDA", "facet": "N1", "inverted": false },
            { "id": 90, "text": "VIVO MINHAS EMOÇÕES INTENSAMENTE", "facet": "E4", "inverted": false },
            { "id": 91, "text": "GOSTO DE FAZER COISAS QUE EXIGEM MUITO DE MIM", "facet": "R1", "inverted": false },
            { "id": 92, "text": "SOFRO QUANDO ENCONTRO ALGUÉM QUE ESTÁ COM DIFICULDADE", "facet": "S1", "inverted": false },
            { "id": 93, "text": "É COMUM TEREM INVEJA DE MIM", "facet": "E2", "inverted": false },
            { "id": 94, "text": "SEMPRE QUE POSSO, MUDO OS TRAJETOS NOS MEUS PERCURSOS DIÁRIOS", "facet": "A3", "inverted": false },
            { "id": 95, "text": "TENHO DIFICULDADE PARA TERMINAR AS TAREFAS, POIS DISTRAIO COM OUTRAS COISAS", "facet": "N3", "inverted": false },
            { "id": 96, "text": "PREOCUPO-ME COM AQUELES QUE ESTÃO NUMA SITUAÇÃO PIOR QUE A MINHA", "facet": "S1", "inverted": false },
            { "id": 97, "text": "SOU COMUNICATIVO", "facet": "E1", "inverted": false },
            { "id": 98, "text": "ACHO QUE OS OUTROS PODEM TENTAR ME PREJUDICAR", "facet": "S3", "inverted": true },
            { "id": 99, "text": "SINTO UMA INCONTROLÁVEL VONTADE DE FALAR, MESMO QUE SEJA COM QUEM NÃO CONHEÇO", "facet": "E2", "inverted": false },
            { "id": 100, "text": "EU PARO DE FAZER AS COISAS QUANDO ELAS FICAM DIFÍCEIS", "facet": "N3", "inverted": false },
            { "id": 101, "text": "ESCOLHO AS PALAVRAS COM CUIDADO", "facet": "R2", "inverted": false },
            { "id": 102, "text": "COM FREQUÊNCIA, PASSO POR PERÍODOS EM QUE FICO EXTREMAMENTE IRRITÁVEL, INCOMODANDO-ME COM QUALQUER COISA", "facet": "N2", "inverted": false },
            { "id": 103, "text": "RARAMENTE MOSTRO UM TRABALHO A OUTRAS PESSOAS ANTES DE REVISÁ-LO CUIDADOSAMENTE", "facet": "R3", "inverted": false },
            { "id": 104, "text": "IMPORTO-ME COM OS SENTIMENTOS DOS OUTROS", "facet": "S1", "inverted": false },
            { "id": 105, "text": "FAÇO MUITAS COISAS DURANTE MINHAS HORAS DE FOLGA", "facet": "E1", "inverted": false },
            { "id": 106, "text": "ESTOU CANSADO DE VIVER", "facet": "N4", "inverted": false },
            { "id": 107, "text": "GOSTO DE QUEBRAR REGRAS", "facet": "S2", "inverted": true },
            { "id": 108, "text": "COSTUMO TOMAR A INICIATIVA E CONVERSAR COM OS OUTROS", "facet": "E3", "inverted": false },
            { "id": 109, "text": "RESPEITO AUTORIDADES", "facet": "S2", "inverted": false },
            { "id": 110, "text": "SOU UMA PESSOA INSEGURA", "facet": "N1", "inverted": false },
            { "id": 111, "text": "QUANDO ESTOU ENTRE UM GRUPO, GOSTO QUE ME DEEM ATENÇÃO", "facet": "E2", "inverted": false },
            { "id": 112, "text": "MEUS AMIGOS DIZEM QUE EU TRABALHO/ESTUDO DEMAIS", "facet": "R3", "inverted": false },
            { "id": 113, "text": "SINTO-ME ENTENDIADO QUANDO TENHO QUE FAZER AS MESMAS COISAS", "facet": "A3", "inverted": false },
            { "id": 114, "text": "EXIJO MUITO DE MIM MESMO", "facet": "R3", "inverted": false },
            { "id": 115, "text": "TENHO DIFICULDADE DE PARTICIPAR DE ATIVIDADES QUE EXIJAM IMAGINAÇÃO OU FANTASIA", "facet": "A1", "inverted": true },
            { "id": 116, "text": "GOSTO DE PROGRAMAR DETALHADAMENTE AS COISAS QUE TENHO PARA FAZER", "facet": "R3", "inverted": false },
            { "id": 117, "text": "USUALMENTE, TOMO A INCIATIVA NAS SITUAÇÕES", "facet": "E3", "inverted": false },
            { "id": 118, "text": "SINTO-ME MUITO MAL QUANDO RECEBO ALGUMA CRÍTICA", "facet": "N1", "inverted": false },
            { "id": 119, "text": "ACREDITO QUE AS PESSOAS TÊM UMA NATUREZA RUIM", "facet": "S3", "inverted": true },
            { "id": 120, "text": "DIFICILMENTE FICO SEM JEITO", "facet": "E1", "inverted": false },
            { "id": 121, "text": "SÓ ME APROXIMO DE UMA PESSOA QUANDO ESTOU CERTO DE QUE ELA CONCORDA COM AS MINHAS OPINIÕES E ATITUDES, PARA EVITAR CRÍTICAS OU DESAPROVAÇÃO", "facet": "N3", "inverted": false },
            { "id": 122, "text": "SEI O QUE QUERO PARA MINHA VIDA", "facet": "R1", "inverted": false },
            { "id": 123, "text": "FREQUENTEMENTE QUESTIONO REGRAS E COSTUMES SOCIAIS", "facet": "A2", "inverted": false },
            { "id": 124, "text": "TENHO UMA GRANDE DIFICULDADE EM DORMIR", "facet": "N4", "inverted": false },
            { "id": 125, "text": "PREOCUPO-ME EM AGRADAR AS PESSOAS", "facet": "S1", "inverted": false },
            { "id": 126, "text": "SOU DISPOSTO A REVER MEUS POSICIONAMENTOS SOBRE DIFERENTES ASSUNTOS", "facet": "A2", "inverted": false }
        ];

        const DATA_CRITERIA = {
            "N1": { min: 0, max: 30 }, "N2": { min: 0, max: 30 }, "N3": { min: 0, max: 50 }, "N4": { min: 15, max: 70 },
            "E1": { min: 30, max: 100 }, "E2": { min: 30, max: 100 }, "E3": { min: 30, max: 100 }, "E4": { min: 30, max: 100 },
            "S1": { min: 30, max: 84 }, "S2": { min: 30, max: 84 }, "S3": { min: 30, max: 84 },
            "R1": { min: 30, max: 100 }, "R2": { min: 30, max: 100 }, "R3": { min: 30, max: 100 },
            "A1": { min: 15, max: 100 },
            "A2": { min: 30, max: 85 },
            "A3": { min: 15, max: 85 }
        };

        const DATA_PERCENTILES = {
            "N1": [{ s: 1.0, p: 1 }, { s: 1.56, p: 1 }, { s: 1.57, p: 5 }, { s: 1.85, p: 5 }, { s: 1.86, p: 10 }, { s: 2.13, p: 10 }, { s: 2.14, p: 15 }, { s: 2.32, p: 15 }, { s: 2.33, p: 20 }, { s: 2.56, p: 20 }, { s: 2.57, p: 25 }, { s: 2.7, p: 25 }, { s: 2.71, p: 30 }, { s: 2.88, p: 30 }, { s: 2.89, p: 35 }, { s: 3.1, p: 35 }, { s: 3.11, p: 40 }, { s: 3.28, p: 40 }, { s: 3.29, p: 45 }, { s: 3.43, p: 45 }, { s: 3.44, p: 50 }, { s: 3.56, p: 50 }, { s: 3.57, p: 55 }, { s: 3.77, p: 55 }, { s: 3.78, p: 60 }, { s: 3.88, p: 60 }, { s: 3.89, p: 65 }, { s: 4.1, p: 65 }, { s: 4.11, p: 70 }, { s: 4.32, p: 70 }, { s: 4.33, p: 75 }, { s: 4.55, p: 75 }, { s: 4.56, p: 80 }, { s: 4.85, p: 80 }, { s: 4.86, p: 85 }, { s: 5.13, p: 85 }, { s: 5.14, p: 90 }, { s: 5.66, p: 90 }, { s: 5.67, p: 95 }],
            "N2": [{ s: 1.0, p: 1 }, { s: 1.49, p: 1 }, { s: 1.5, p: 5 }, { s: 1.82, p: 5 }, { s: 1.83, p: 10 }, { s: 2.16, p: 10 }, { s: 2.17, p: 15 }, { s: 2.32, p: 15 }, { s: 2.33, p: 20 }, { s: 2.49, p: 20 }, { s: 2.5, p: 25 }, { s: 2.82, p: 25 }, { s: 2.83, p: 30 }, { s: 2.99, p: 30 }, { s: 3.0, p: 35 }, { s: 3.24, p: 35 }, { s: 3.25, p: 40 }, { s: 3.32, p: 40 }, { s: 3.33, p: 45 }, { s: 3.49, p: 45 }, { s: 3.5, p: 50 }, { s: 3.82, p: 50 }, { s: 3.83, p: 55 }, { s: 3.99, p: 55 }, { s: 4.0, p: 60 }, { s: 4.24, p: 60 }, { s: 4.25, p: 65 }, { s: 4.49, p: 65 }, { s: 4.5, p: 70 }, { s: 4.66, p: 70 }, { s: 4.67, p: 75 }, { s: 4.99, p: 75 }, { s: 5.0, p: 80 }, { s: 5.24, p: 80 }, { s: 5.25, p: 85 }, { s: 5.66, p: 85 }, { s: 5.67, p: 90 }, { s: 6.16, p: 90 }, { s: 6.17, p: 95 }],
            "N3": [{ s: 1.0, p: 1 }, { s: 1.49, p: 1 }, { s: 1.5, p: 5 }, { s: 1.82, p: 5 }, { s: 1.83, p: 10 }, { s: 2.16, p: 10 }, { s: 2.17, p: 15 }, { s: 2.32, p: 15 }, { s: 2.33, p: 20 }, { s: 2.49, p: 20 }, { s: 2.5, p: 25 }, { s: 2.66, p: 25 }, { s: 2.67, p: 30 }, { s: 2.82, p: 30 }, { s: 2.83, p: 35 }, { s: 2.99, p: 35 }, { s: 3.0, p: 40 }, { s: 3.19, p: 40 }, { s: 3.2, p: 45 }, { s: 3.39, p: 45 }, { s: 3.4, p: 50 }, { s: 3.59, p: 50 }, { s: 3.6, p: 55 }, { s: 3.79, p: 55 }, { s: 3.8, p: 60 }, { s: 3.99, p: 60 }, { s: 4.0, p: 65 }, { s: 4.16, p: 65 }, { s: 4.17, p: 70 }, { s: 4.32, p: 70 }, { s: 4.33, p: 75 }, { s: 4.59, p: 75 }, { s: 4.6, p: 80 }, { s: 4.82, p: 80 }, { s: 4.83, p: 85 }, { s: 4.99, p: 85 }, { s: 5.0, p: 90 }, { s: 5.49, p: 90 }, { s: 5.5, p: 95 }],
            "N4": [{ s: 1.0, p: 5 }, { s: 1.13, p: 5 }, { s: 1.14, p: 10 }, { s: 1.24, p: 10 }, { s: 1.25, p: 15 }, { s: 1.37, p: 15 }, { s: 1.38, p: 20 }, { s: 1.49, p: 20 }, { s: 1.5, p: 25 }, { s: 1.62, p: 25 }, { s: 1.63, p: 30 }, { s: 1.74, p: 30 }, { s: 1.75, p: 35 }, { s: 1.82, p: 35 }, { s: 1.83, p: 40 }, { s: 1.99, p: 40 }, { s: 2.01, p: 50 }, { s: 2.13, p: 50 }, { s: 2.14, p: 55 }, { s: 2.28, p: 55 }, { s: 2.29, p: 60 }, { s: 2.49, p: 60 }, { s: 2.5, p: 65 }, { s: 2.62, p: 65 }, { s: 2.63, p: 70 }, { s: 2.87, p: 70 }, { s: 2.88, p: 75 }, { s: 3.16, p: 75 }, { s: 3.17, p: 80 }, { s: 3.49, p: 80 }, { s: 3.5, p: 85 }, { s: 3.87, p: 85 }, { s: 3.88, p: 90 }, { s: 4.62, p: 90 }, { s: 4.63, p: 95 }],
            "E1": [{ s: 1.0, p: 1 }, { s: 1.99, p: 1 }, { s: 2.0, p: 5 }, { s: 2.49, p: 5 }, { s: 2.5, p: 10 }, { s: 2.99, p: 10 }, { s: 3.0, p: 15 }, { s: 3.16, p: 15 }, { s: 3.17, p: 20 }, { s: 3.49, p: 20 }, { s: 3.5, p: 25 }, { s: 3.66, p: 25 }, { s: 3.67, p: 30 }, { s: 3.82, p: 30 }, { s: 3.83, p: 35 }, { s: 3.99, p: 35 }, { s: 4.0, p: 40 }, { s: 4.16, p: 40 }, { s: 4.17, p: 45 }, { s: 4.32, p: 45 }, { s: 4.33, p: 50 }, { s: 4.49, p: 50 }, { s: 4.5, p: 55 }, { s: 4.66, p: 55 }, { s: 4.67, p: 60 }, { s: 4.82, p: 60 }, { s: 4.83, p: 65 }, { s: 4.99, p: 65 }, { s: 5.0, p: 70 }, { s: 5.16, p: 70 }, { s: 5.17, p: 75 }, { s: 5.32, p: 75 }, { s: 5.33, p: 80 }, { s: 5.66, p: 80 }, { s: 5.67, p: 85 }, { s: 5.99, p: 85 }, { s: 6.0, p: 90 }, { s: 6.32, p: 90 }, { s: 6.33, p: 95 }],
            "E2": [{ s: 1.0, p: 1 }, { s: 1.99, p: 1 }, { s: 2.0, p: 5 }, { s: 2.28, p: 5 }, { s: 2.29, p: 10 }, { s: 2.56, p: 10 }, { s: 2.57, p: 15 }, { s: 2.7, p: 15 }, { s: 2.71, p: 20 }, { s: 2.85, p: 20 }, { s: 2.86, p: 25 }, { s: 3.08, p: 25 }, { s: 3.09, p: 30 }, { s: 3.16, p: 30 }, { s: 3.17, p: 35 }, { s: 3.32, p: 35 }, { s: 3.33, p: 40 }, { s: 3.42, p: 40 }, { s: 3.43, p: 45 }, { s: 3.56, p: 45 }, { s: 3.57, p: 50 }, { s: 3.7, p: 50 }, { s: 3.71, p: 55 }, { s: 3.85, p: 55 }, { s: 3.86, p: 60 }, { s: 3.99, p: 60 }, { s: 4.0, p: 65 }, { s: 4.13, p: 65 }, { s: 4.14, p: 70 }, { s: 4.42, p: 70 }, { s: 4.43, p: 75 }, { s: 4.56, p: 75 }, { s: 4.57, p: 80 }, { s: 4.82, p: 80 }, { s: 4.83, p: 85 }, { s: 5.13, p: 85 }, { s: 5.14, p: 90 }, { s: 5.56, p: 90 }, { s: 5.57, p: 95 }],
            "E3": [{ s: 1.0, p: 1 }, { s: 2.99, p: 1 }, { s: 3.0, p: 5 }, { s: 3.39, p: 5 }, { s: 3.4, p: 10 }, { s: 3.79, p: 10 }, { s: 3.8, p: 15 }, { s: 3.99, p: 15 }, { s: 4.0, p: 20 }, { s: 4.19, p: 20 }, { s: 4.21, p: 30 }, { s: 4.39, p: 30 }, { s: 4.4, p: 35 }, { s: 4.59, p: 35 }, { s: 4.61, p: 45 }, { s: 4.79, p: 45 }, { s: 4.8, p: 50 }, { s: 4.99, p: 50 }, { s: 5.01, p: 60 }, { s: 5.19, p: 60 }, { s: 5.2, p: 65 }, { s: 5.39, p: 65 }, { s: 5.4, p: 70 }, { s: 5.59, p: 70 }, { s: 5.61, p: 80 }, { s: 5.8, p: 80 }, { s: 5.81, p: 85 }, { s: 6.19, p: 85 }, { s: 6.2, p: 90 }, { s: 6.39, p: 90 }, { s: 6.4, p: 95 }],
            "E4": [{ s: 1.0, p: 1 }, { s: 2.82, p: 1 }, { s: 2.83, p: 5 }, { s: 3.32, p: 5 }, { s: 3.33, p: 10 }, { s: 3.66, p: 10 }, { s: 3.67, p: 15 }, { s: 3.85, p: 15 }, { s: 3.86, p: 20 }, { s: 4.13, p: 20 }, { s: 4.14, p: 25 }, { s: 4.28, p: 25 }, { s: 4.29, p: 30 }, { s: 4.42, p: 30 }, { s: 4.43, p: 35 }, { s: 4.56, p: 35 }, { s: 4.57, p: 40 }, { s: 4.7, p: 40 }, { s: 4.71, p: 45 }, { s: 4.85, p: 45 }, { s: 4.86, p: 50 }, { s: 4.99, p: 50 }, { s: 5.0, p: 55 }, { s: 5.16, p: 55 }, { s: 5.17, p: 60 }, { s: 5.32, p: 60 }, { s: 5.33, p: 65 }, { s: 5.49, p: 65 }, { s: 5.5, p: 70 }, { s: 5.66, p: 70 }, { s: 5.67, p: 75 }, { s: 5.83, p: 80 }, { s: 5.99, p: 80 }, { s: 6.0, p: 85 }, { s: 6.28, p: 85 }, { s: 6.29, p: 90 }, { s: 6.56, p: 90 }, { s: 6.57, p: 95 }],
            "S1": [{ s: 1.0, p: 1 }, { s: 3.91, p: 1 }, { s: 3.92, p: 5 }, { s: 4.41, p: 5 }, { s: 4.42, p: 10 }, { s: 4.72, p: 10 }, { s: 4.73, p: 15 }, { s: 4.91, p: 15 }, { s: 4.92, p: 20 }, { s: 5.08, p: 20 }, { s: 5.09, p: 25 }, { s: 5.24, p: 25 }, { s: 5.25, p: 30 }, { s: 5.41, p: 30 }, { s: 5.42, p: 35 }, { s: 5.49, p: 35 }, { s: 5.5, p: 40 }, { s: 5.57, p: 40 }, { s: 5.58, p: 45 }, { s: 5.72, p: 45 }, { s: 5.73, p: 50 }, { s: 5.82, p: 50 }, { s: 5.83, p: 55 }, { s: 5.91, p: 55 }, { s: 5.92, p: 60 }, { s: 6.07, p: 60 }, { s: 6.08, p: 65 }, { s: 6.16, p: 65 }, { s: 6.17, p: 70 }, { s: 6.25, p: 70 }, { s: 6.26, p: 75 }, { s: 6.35, p: 75 }, { s: 6.36, p: 80 }, { s: 6.49, p: 80 }, { s: 6.5, p: 85 }, { s: 6.63, p: 85 }, { s: 6.64, p: 90 }, { s: 6.81, p: 90 }, { s: 6.82, p: 95 }],
            "S2": [{ s: 1.0, p: 1 }, { s: 3.7, p: 1 }, { s: 3.71, p: 5 }, { s: 4.24, p: 5 }, { s: 4.25, p: 10 }, { s: 4.56, p: 10 }, { s: 4.57, p: 15 }, { s: 4.85, p: 15 }, { s: 4.86, p: 20 }, { s: 4.99, p: 20 }, { s: 5.0, p: 25 }, { s: 5.18, p: 25 }, { s: 5.19, p: 30 }, { s: 5.37, p: 30 }, { s: 5.38, p: 35 }, { s: 5.49, p: 35 }, { s: 5.5, p: 40 }, { s: 5.62, p: 40 }, { s: 5.63, p: 45 }, { s: 5.74, p: 45 }, { s: 5.75, p: 50 }, { s: 5.87, p: 50 }, { s: 5.88, p: 55 }, { s: 5.99, p: 55 }, { s: 6.0, p: 60 }, { s: 6.12, p: 60 }, { s: 6.13, p: 65 }, { s: 6.24, p: 65 }, { s: 6.25, p: 70 }, { s: 6.28, p: 70 }, { s: 6.29, p: 75 }, { s: 6.49, p: 75 }, { s: 6.5, p: 80 }, { s: 6.56, p: 80 }, { s: 6.57, p: 85 }, { s: 6.74, p: 85 }, { s: 6.75, p: 90 }, { s: 6.99, p: 90 }, { s: 7.0, p: 95 }],
            "S3": [{ s: 1.0, p: 1 }, { s: 2.99, p: 1 }, { s: 3.0, p: 5 }, { s: 3.37, p: 5 }, { s: 3.38, p: 10 }, { s: 3.62, p: 10 }, { s: 3.63, p: 15 }, { s: 3.87, p: 15 }, { s: 3.88, p: 20 }, { s: 4.12, p: 20 }, { s: 4.13, p: 25 }, { s: 4.24, p: 25 }, { s: 4.25, p: 30 }, { s: 4.37, p: 30 }, { s: 4.38, p: 35 }, { s: 4.49, p: 35 }, { s: 4.5, p: 40 }, { s: 4.62, p: 40 }, { s: 4.63, p: 45 }, { s: 4.74, p: 45 }, { s: 4.75, p: 50 }, { s: 4.99, p: 50 }, { s: 5.0, p: 55 }, { s: 5.12, p: 55 }, { s: 5.14, p: 65 }, { s: 5.24, p: 65 }, { s: 5.25, p: 70 }, { s: 5.49, p: 70 }, { s: 5.5, p: 75 }, { s: 5.62, p: 75 }, { s: 5.63, p: 80 }, { s: 5.74, p: 80 }, { s: 5.75, p: 85 }, { s: 5.99, p: 85 }, { s: 6.0, p: 90 }, { s: 6.24, p: 90 }, { s: 6.25, p: 95 }],
            "R1": [{ s: 1.0, p: 1 }, { s: 3.49, p: 1 }, { s: 3.5, p: 5 }, { s: 3.89, p: 5 }, { s: 3.9, p: 10 }, { s: 4.19, p: 10 }, { s: 4.2, p: 15 }, { s: 4.42, p: 15 }, { s: 4.43, p: 20 }, { s: 4.59, p: 20 }, { s: 4.6, p: 25 }, { s: 4.79, p: 25 }, { s: 4.8, p: 30 }, { s: 4.89, p: 30 }, { s: 4.9, p: 35 }, { s: 4.99, p: 35 }, { s: 5.0, p: 40 }, { s: 5.13, p: 40 }, { s: 5.14, p: 45 }, { s: 5.28, p: 45 }, { s: 5.29, p: 50 }, { s: 5.39, p: 50 }, { s: 5.4, p: 55 }, { s: 5.49, p: 55 }, { s: 5.5, p: 60 }, { s: 5.59, p: 60 }, { s: 5.6, p: 65 }, { s: 5.69, p: 65 }, { s: 5.7, p: 70 }, { s: 5.85, p: 70 }, { s: 5.86, p: 75 }, { s: 5.99, p: 75 }, { s: 6.0, p: 80 }, { s: 6.09, p: 80 }, { s: 6.1, p: 85 }, { s: 6.28, p: 85 }, { s: 6.29, p: 90 }, { s: 6.49, p: 90 }, { s: 6.5, p: 95 }],
            "R2": [{ s: 1.0, p: 1 }, { s: 2.74, p: 1 }, { s: 2.75, p: 5 }, { s: 3.24, p: 5 }, { s: 3.25, p: 10 }, { s: 3.74, p: 10 }, { s: 3.75, p: 15 }, { s: 3.99, p: 15 }, { s: 4.01, p: 25 }, { s: 4.24, p: 25 }, { s: 4.25, p: 30 }, { s: 4.49, p: 30 }, { s: 4.5, p: 35 }, { s: 4.74, p: 35 }, { s: 4.76, p: 45 }, { s: 4.99, p: 45 }, { s: 5.0, p: 50 }, { s: 5.24, p: 50 }, { s: 5.26, p: 60 }, { s: 5.49, p: 60 }, { s: 5.51, p: 70 }, { s: 5.74, p: 70 }, { s: 5.75, p: 75 }, { s: 5.99, p: 75 }, { s: 6.0, p: 80 }, { s: 6.24, p: 80 }, { s: 6.25, p: 85 }, { s: 6.49, p: 85 }, { s: 6.5, p: 90 }, { s: 6.74, p: 90 }, { s: 6.75, p: 95 }],
            "R3": [{ s: 1.0, p: 1 }, { s: 2.99, p: 1 }, { s: 3.0, p: 5 }, { s: 3.28, p: 5 }, { s: 3.29, p: 10 }, { s: 3.56, p: 10 }, { s: 3.57, p: 15 }, { s: 3.85, p: 15 }, { s: 3.86, p: 20 }, { s: 3.99, p: 20 }, { s: 4.0, p: 25 }, { s: 4.16, p: 25 }, { s: 4.17, p: 30 }, { s: 4.42, p: 30 }, { s: 4.43, p: 35 }, { s: 4.56, p: 35 }, { s: 4.57, p: 40 }, { s: 4.7, p: 40 }, { s: 4.71, p: 45 }, { s: 4.85, p: 45 }, { s: 4.86, p: 50 }, { s: 4.99, p: 50 }, { s: 5.0, p: 55 }, { s: 5.13, p: 55 }, { s: 5.14, p: 60 }, { s: 5.28, p: 60 }, { s: 5.29, p: 65 }, { s: 5.42, p: 65 }, { s: 5.43, p: 70 }, { s: 5.56, p: 70 }, { s: 5.57, p: 75 }, { s: 5.7, p: 75 }, { s: 5.71, p: 80 }, { s: 5.85, p: 80 }, { s: 5.86, p: 85 }, { s: 6.13, p: 85 }, { s: 6.14, p: 90 }, { s: 6.42, p: 90 }, { s: 6.43, p: 95 }],
            "A1": [{ s: 1.0, p: 1 }, { s: 2.89, p: 1 }, { s: 2.9, p: 5 }, { s: 3.29, p: 5 }, { s: 3.3, p: 10 }, { s: 3.49, p: 10 }, { s: 3.5, p: 15 }, { s: 3.69, p: 15 }, { s: 3.7, p: 20 }, { s: 3.89, p: 20 }, { s: 3.9, p: 25 }, { s: 3.99, p: 25 }, { s: 4.0, p: 30 }, { s: 4.09, p: 30 }, { s: 4.1, p: 35 }, { s: 4.29, p: 35 }, { s: 4.3, p: 40 }, { s: 4.39, p: 40 }, { s: 4.4, p: 45 }, { s: 4.59, p: 45 }, { s: 4.6, p: 50 }, { s: 4.69, p: 50 }, { s: 4.7, p: 55 }, { s: 4.79, p: 55 }, { s: 4.8, p: 60 }, { s: 4.99, p: 60 }, { s: 5.0, p: 65 }, { s: 5.09, p: 65 }, { s: 5.1, p: 70 }, { s: 5.29, p: 70 }, { s: 5.3, p: 75 }, { s: 5.49, p: 75 }, { s: 5.5, p: 80 }, { s: 5.69, p: 80 }, { s: 5.7, p: 85 }, { s: 5.99, p: 85 }, { s: 6.0, p: 90 }, { s: 6.29, p: 90 }, { s: 6.3, p: 95 }],
            "A2": [{ s: 1.0, p: 1 }, { s: 3.13, p: 1 }, { s: 3.14, p: 5 }, { s: 3.56, p: 5 }, { s: 3.57, p: 10 }, { s: 3.7, p: 10 }, { s: 3.71, p: 15 }, { s: 3.99, p: 15 }, { s: 4.0, p: 20 }, { s: 4.13, p: 20 }, { s: 4.14, p: 25 }, { s: 4.28, p: 25 }, { s: 4.29, p: 30 }, { s: 4.42, p: 30 }, { s: 4.43, p: 35 }, { s: 4.56, p: 35 }, { s: 4.57, p: 40 }, { s: 4.7, p: 40 }, { s: 4.71, p: 45 }, { s: 4.85, p: 45 }, { s: 4.86, p: 50 }, { s: 4.99, p: 50 }, { s: 5.0, p: 55 }, { s: 5.13, p: 55 }, { s: 5.14, p: 60 }, { s: 5.28, p: 60 }, { s: 5.29, p: 65 }, { s: 5.42, p: 65 }, { s: 5.43, p: 70 }, { s: 5.56, p: 70 }, { s: 5.57, p: 75 }, { s: 5.7, p: 75 }, { s: 5.71, p: 80 }, { s: 5.99, p: 80 }, { s: 6.0, p: 85 }, { s: 6.13, p: 85 }, { s: 6.14, p: 90 }, { s: 6.42, p: 90 }, { s: 6.43, p: 95 }],
            "A3": [{ s: 1.0, p: 1 }, { s: 2.82, p: 1 }, { s: 2.83, p: 5 }, { s: 3.32, p: 5 }, { s: 3.33, p: 10 }, { s: 3.49, p: 10 }, { s: 3.5, p: 15 }, { s: 3.74, p: 15 }, { s: 3.75, p: 20 }, { s: 3.99, p: 20 }, { s: 4.01, p: 30 }, { s: 4.22, p: 30 }, { s: 4.23, p: 35 }, { s: 4.32, p: 35 }, { s: 4.33, p: 40 }, { s: 4.49, p: 40 }, { s: 4.5, p: 45 }, { s: 4.66, p: 45 }, { s: 4.67, p: 50 }, { s: 4.82, p: 50 }, { s: 4.83, p: 55 }, { s: 4.99, p: 55 }, { s: 5.01, p: 65 }, { s: 5.16, p: 65 }, { s: 5.17, p: 70 }, { s: 5.32, p: 70 }, { s: 5.33, p: 75 }, { s: 5.49, p: 75 }, { s: 5.5, p: 80 }, { s: 5.66, p: 80 }, { s: 5.67, p: 85 }, { s: 5.99, p: 85 }, { s: 6.0, p: 90 }, { s: 6.16, p: 90 }, { s: 6.17, p: 95 }]
        };

        const NAMES = {
            "N1": "Vulnerabilidade", "N2": "Instabilidade Emocional", "N3": "Passividade", "N4": "Depressão",
            "E1": "Comunicação", "E2": "Altivez", "E3": "Dinamismo", "E4": "Interação Social",
            "S1": "Amabilidade", "S2": "Pró-Sociabilidade", "S3": "Confiança",
            "R1": "Competência", "R2": "Ponderação/Prudência", "R3": "Empenho",
            "A1": "Abertura a Ideias", "A2": "Liberalismo", "A3": "Busca por Novidades"
        };

        const FACTOR_MAP = {
            "NEUROTICISMO": ["N1", "N2", "N3", "N4"],
            "EXTROVERSÃO": ["E1", "E2", "E3", "E4"],
            "SOCIALIZAÇÃO": ["S1", "S2", "S3"],
            "REALIZAÇÃO": ["R1", "R2", "R3"],
            "ABERTURA": ["A1", "A2", "A3"]
        };

        // ==========================================================================
        // LÓGICA DE DEBUG
        // ==========================================================================

        // Monitor de digitação para contar linhas
        document.getElementById('input-answers').addEventListener('input', function () {
            const raw = this.value;
            const answers = raw.split(/[\n, ]+/).filter(v => v.trim() !== "").map(Number);
            document.getElementById('count-display').innerText = `${answers.length} respostas detectadas`;

            if (answers.length === 126) {
                document.getElementById('count-display').className = "text-xs font-bold text-green-400";
            } else {
                document.getElementById('count-display').className = "text-xs font-bold text-red-400";
            }
        });

        function processarInput() {
            const raw = document.getElementById('input-answers').value;
            // Split por quebra de linha, vírgula ou espaço e remove vazios
            const answers = raw.split(/[\n, ]+/).filter(v => v.trim() !== "").map(Number);

            if (answers.length !== DATA_QUESTIONS.length) {
                alert(`Erro: Você forneceu ${answers.length} respostas, mas o teste requer exatamente ${DATA_QUESTIONS.length}.`);
                return;
            }

            // Verifica se todos são números válidos entre 1 e 7
            const invalid = answers.some(n => isNaN(n) || n < 1 || n > 7);
            if (invalid) {
                if (!confirm("Alguns valores parecem inválidos (fora de 1-7). Continuar mesmo assim?")) return;
            }

            calculate(answers);
        }

        function calculate(answersArray) {
            let scores = {};

            DATA_QUESTIONS.forEach((q, index) => {
                let val = answersArray[index];
                if (q.inverted) val = 8 - val; // Inversão de score

                if (!scores[q.facet]) scores[q.facet] = [];
                scores[q.facet].push(val);
            });

            let results = {};
            let isGlobalApto = true;

            for (let f in scores) {
                const sum = scores[f].reduce((a, b) => a + b, 0);
                const avg = sum / scores[f].length;

                let pct = 50;
                const table = DATA_PERCENTILES[f];

                if (table) {
                    let closest = table[0];
                    let minDiff = Infinity;
                    table.forEach(row => {
                        const diff = Math.abs(row.s - avg);
                        if (diff < minDiff) { minDiff = diff; closest = row; }
                    });
                    pct = closest.p;
                }

                // Ajuste solicitado: R2 Ponderação +5 pontos no percentil para scores específicos
                if (f === 'R2') {
                    const roundedAvg = Number(avg.toFixed(2));
                    if ([5.5, 5.25, 4.75, 4].includes(roundedAvg)) {
                        pct += 5;
                    }
                }

                const crit = DATA_CRITERIA[f] || { min: 0, max: 100 };
                const apto = pct >= crit.min && pct <= crit.max;
                if (!apto) isGlobalApto = false;

                results[f] = { raw: avg.toFixed(2), pct: pct, apto: apto, min: crit.min, max: crit.max };
            }

            renderReport(results, isGlobalApto);
        }

        function renderReport(res, globalStatus) {
            document.getElementById('screen-input').classList.add('hidden');
            document.getElementById('screen-result').classList.remove('hidden');
            window.scrollTo(0, 0);

            // Data atual
            document.getElementById('report-date').innerText = new Date().toLocaleString();

            const container = document.getElementById('result-content');
            let html = '';

            for (let factor in FACTOR_MAP) {
                html += `<div class="break-inside-avoid mb-8"><h3 class="text-xl font-bold text-white mb-4 border-b border-white/10 pb-2">${factor}</h3><div class="grid grid-cols-1 gap-4">`;

                FACTOR_MAP[factor].forEach(code => {
                    const r = res[code];
                    if (!r) return;

                    const name = NAMES[code] || code;
                    const statusColor = r.apto ? "text-green-400 bg-green-500/10 border-green-500/20" : "text-red-400 bg-red-500/10 border-red-500/20";

                    const left = r.min + '%';
                    const width = (r.max - r.min) + '%';
                    const marker = r.pct + '%';
                    const markerColor = r.apto ? 'bg-cyan-400' : 'bg-red-500';

                    html += `
            <div class="glass p-4 rounded-xl flex flex-col md:flex-row items-center gap-4">
                <div class="w-40">
                    <div class="flex items-center gap-2"><span class="text-xs font-bold text-purple-300 bg-purple-500/10 px-1.5 rounded">${code}</span><span class="font-bold text-gray-200 text-sm">${name}</span></div>
                    <div class="text-[10px] text-gray-500 font-mono mt-1">Média: ${r.raw}</div>
                </div>
                <div class="flex-1 w-full h-6 bg-black/40 rounded-lg relative overflow-hidden border border-white/10">
                    <div class="absolute top-0 bottom-0 bg-white/5 border-x border-white/10" style="left:${left}; width:${width}" title="Meta"></div>
                    <div class="absolute top-0 bottom-0 w-1 ${markerColor} shadow-[0_0_8px_currentColor]" style="left:${marker}"></div>
                </div>
                <div class="w-32 flex justify-end gap-3 items-center text-xs">
                    <span class="text-white font-bold text-lg">${r.pct}%</span>
                    <span class="px-2 py-1 rounded font-bold border ${statusColor}">${r.apto ? 'APTO' : 'INAPTO'}</span>
                </div>
            </div>`;
                });
                html += `</div></div>`;
            }
            container.innerHTML = html;
        }
    </script>
</body>

</html>
