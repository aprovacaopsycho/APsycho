<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark" />
    <title>Aulas - Módulo PMPR | Aprovação Psycho</title>
    <link rel="icon" type="image/png" href="../favicon.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.12.0/dist/cdn.min.js" defer></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap"
        rel="stylesheet" />

    <style>
        :root {
            --bg-dark: #100f1c;
            --bg-card: #1c1b29;
            --primary-purple: #9f54ff;
            --accent-pink: #ff00ff;
            --accent-blue: #00c2ff;
            --border-color: rgba(255, 255, 255, 0.1);
            --header-hover: #2a2938;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-dark);
            color: #a0a0a0;
        }

        .hero-bg {
            background-image: linear-gradient(180deg, rgba(15, 14, 26, .9) 0%, rgba(15, 14, 26, .95) 100%), url('https://www.pmpr.pr.gov.br/sites/default/arquivos_restritos/files/imagem/2025-07/img_1121_0.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            min-height: 100vh;
        }

        /* COLLAPSE STYLES - Adapted from Strategy Style */
        .collapse-container {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin-bottom: 1rem;
            overflow: hidden;
            transition: all 0.2s ease;
        }

        .collapse-container:hover {
            border-color: rgba(159, 84, 255, 0.3);
        }

        .collapse-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            background: var(--bg-card);
            cursor: pointer;
            border-bottom: 1px solid transparent;
            transition: background 0.2s;
            user-select: none;
        }

        .collapse-header:hover {
            background: var(--header-hover);
        }

        .collapse-container.active .collapse-header {
            border-bottom-color: var(--border-color);
        }

        .lesson-info h3 {
            color: white;
            font-weight: 700;
            font-size: 1.125rem;
            margin-bottom: 0.25rem;
        }

        .lesson-info p {
            color: #888;
            font-size: 0.875rem;
        }

        /* Custom Checkbox */
        .check-container {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .check-box-custom {
            width: 24px;
            height: 24px;
            border: 2px solid #555;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            color: transparent;
        }

        .check-container input:checked~.check-box-custom {
            background: #10b981;
            /* Green */
            border-color: #10b981;
            color: white;
        }

        .check-label {
            font-size: 0.75rem;
            color: #666;
            font-weight: 600;
            text-transform: uppercase;
        }

        .check-container input:checked~.check-label {
            color: #10b981;
        }

        /* Body Animation */
        .collapse-body {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(0, 0, 0, 0.2);
        }

        .collapse-container.active .collapse-body {
            max-height: 2000px;
            /* Arbitrary large max-height */
        }

        .body-content {
            padding: 1.5rem;
        }

        /* Video Placeholders */
        .video-wrapper {
            background: #000;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            padding-bottom: 56.25%;
            /* 16:9 */
            height: 0;
            margin-bottom: 1rem;
            border: 1px solid var(--border-color);
        }

        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .video-placeholder {
            position: absolute;
            inset: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: #111;
            color: #555;
        }

        .video-part-title {
            color: var(--primary-purple);
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
        }
    </style>
</head>

<body class="flex flex-col min-h-screen hero-bg" x-data="lessonsApp()">

    <!-- HEADER -->
    <header class="bg-black/40 backdrop-blur-md border-b border-white/10 sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <img src="../logo-principal.png" alt="Logo" class="h-8">
                <img src="https://www.pmpr.pr.gov.br/sites/default/arquivos_restritos/files/imagem/2025-07/img_1121_0.jpg"
                    alt="Brasão PMPR"
                    class="h-10 w-10 rounded-full border border-[#9f54ff] object-cover shadow-[0_0_10px_rgba(159,84,255,0.3)]">
                <div class="flex flex-col">
                    <span class="text-xl font-black" style="color:#a0a0a0">APROVAÇÃO <span
                            style="color:#ff00ff;text-shadow:0 0 8px #ff00ff">PSYCHO</span></span>
                    <span class="text-white font-black text-lg leading-none">PMPR <span
                            class="text-[#ff00ff]">2025</span></span>
                    <span class="text-[10px] text-gray-400 font-medium tracking-wider">MÓDULO EXCLUSIVO</span>
                </div>
            </div>
            <a href="pmpr.html"
                class="text-sm font-bold text-cyan-400 hover:text-white transition flex items-center gap-2">
                <i class="fas fa-arrow-left"></i> Voltar ao PMPR
            </a>
        </div>
    </header>

    <main class="flex-grow container mx-auto px-4 py-8 max-w-4xl">

        <div class="text-center mb-10">
            <h1 class="text-3xl sm:text-4xl font-black text-white mb-2">Aulas <span
                    class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500">Ao Vivo</span>
            </h1>
            <p class="text-gray-400">Marque as aulas concluídas para acompanhar seu progresso.</p>
        </div>

        <div class="space-y-4">
            <template x-for="(lesson, index) in lessons" :key="index">
                <div class="collapse-container" :class="{ 'active': lesson.isOpen }">

                    <!-- HEADER -->
                    <div class="collapse-header" @click="lesson.isOpen = !lesson.isOpen">
                        <div class="lesson-info">
                            <h3 x-text="lesson.title"></h3>
                            <p x-text="lesson.subtitle"></p>
                        </div>

                        <!-- Checkbox (prevent collapse toggle when clicked) -->
                        <div class="collapse-header-side" @click.stop>
                            <label class="check-container">
                                <span class="check-label" x-text="lesson.studied ? 'Estudado' : 'Estudar'"></span>
                                <input type="checkbox" class="hidden" x-model="lesson.studied" @change="saveProgress()">
                                <div class="check-box-custom">
                                    <i class="fas fa-check"></i>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- BODY -->
                    <div class="collapse-body">
                        <div class="body-content">
                            <!-- TOPICS -->
                            <div class="mb-6">
                                <h4
                                    class="text-xs font-bold text-gray-500 uppercase mb-3 border-b border-gray-800 pb-1">
                                    Tópicos da Aula</h4>
                                <ul class="space-y-2 text-sm text-gray-300">
                                    <template x-for="topic in lesson.topics">
                                        <li class="flex items-start gap-2">
                                            <template x-if="topic.type === 'break'">
                                                <span
                                                    class="w-full text-center text-xs italic text-gray-500 py-1 bg-white/5 rounded my-1 border border-white/5">
                                                    <i class="fas fa-coffee mr-1"></i> Intervalo
                                                </span>
                                            </template>
                                            <template x-if="topic.type !== 'break'">
                                                <div class="flex gap-2">
                                                    <i class="fas fa-check text-[var(--accent-blue)] mt-1 text-xs"></i>
                                                    <span x-text="topic.text"></span>
                                                </div>
                                            </template>
                                        </li>
                                    </template>
                                </ul>
                            </div>

                            <!-- VIDEOS -->
                            <div class="grid md:grid-cols-2 gap-4">
                                <template x-for="(video, vIndex) in lesson.videos">
                                    <div>
                                        <div class="video-part-title" x-text="'Parte ' + (vIndex + 1)"></div>
                                        <div class="video-wrapper">
                                            <!-- Logic: If embed code exists showing iframe, else placeholder -->
                                            <template x-if="video.embed">
                                                <div x-html="video.embed" class="w-full h-full"></div>
                                            </template>
                                            <template x-if="!video.embed">
                                                <div class="video-placeholder">
                                                    <i class="fas fa-lock text-4xl mb-2 opacity-30"></i>
                                                    <span class="text-sm font-bold opacity-50">Disponível em
                                                        Breve</span>
                                                </div>
                                            </template>
                                        </div>
                                    </div>
                                </template>
                            </div>

                        </div>
                    </div>
                </div>
            </template>
        </div>

    </main>

    <footer class="border-t border-white/10 mt-auto py-8 bg-[#0f0e1a] text-center text-sm text-gray-600">
        &copy; 2025 Aprovação Psycho.
    </footer>

    <script>
        function lessonsApp() {
            return {
                lessons: [
                    {
                        title: 'Aula 01',
                        subtitle: 'Introdução e Teste BFP',
                        isOpen: true,
                        studied: false,
                        topics: [
                            { text: 'Introdução aos testes de personalidade', type: 'item' },
                            { text: null, type: 'break' },
                            { text: 'Explicação do Teste BFP', type: 'item' }
                        ],
                        videos: [
                            { embed: '<iframe id="panda-aula1-p1" src="https://player-vz-39115b3e-10b.tv.pandavideo.com.br/embed/?v=c6f353bf-f46b-4cb3-add8-66979fa4a6f7" style="border:none;" allow="accelerometer;gyroscope;autoplay;encrypted-media;picture-in-picture" allowfullscreen=true width="100%" height="100%" fetchpriority="high"></iframe>' },
                            { embed: '<iframe id="panda-2b0b789e-2dd0-4fd5-ace7-5ff8e185c5b7" src="https://player-vz-39115b3e-10b.tv.pandavideo.com.br/embed/?v=2b0b789e-2dd0-4fd5-ace7-5ff8e185c5b7" style="border:none;" allow="accelerometer;gyroscope;autoplay;encrypted-media;picture-in-picture" allowfullscreen=true width="720" height="360" fetchpriority="high"></iframe>' }
                        ]
                    },
                    {
                        title: 'Aula 02',
                        subtitle: 'NEO-PI, Palográfico e Entrevista',
                        isOpen: false,
                        studied: false,
                        topics: [
                            { text: 'Teste NEO', type: 'item' },
                            { text: 'PALOGRÁFICO', type: 'item' },
                            { text: null, type: 'break' },
                            { text: 'Entrevista', type: 'item' }
                        ],
                        videos: [
                            { embed: '' }, // PLACEHOLDER FOR COMING SOON
                            { embed: '' }
                        ]
                    },
                    {
                        title: 'Aula 03',
                        subtitle: 'Atenção e Memória',
                        isOpen: false,
                        studied: false,
                        topics: [
                            { text: 'Teste CTA, AC VETOR, Rotas', type: 'item' },
                            { text: null, type: 'break' },
                            { text: 'TEPIC, Memória F, TSP MEMO', type: 'item' }
                        ],
                        videos: [
                            { embed: '' },
                            { embed: '' }
                        ]
                    },
                    {
                        title: 'Aula 04',
                        subtitle: 'Raciocínio',
                        isOpen: false,
                        studied: false,
                        topics: [
                            { text: 'Beta 3 códigos e matricial', type: 'item' },
                            { text: 'R1 e BPR 5 RV', type: 'item' }
                        ],
                        videos: [
                            { embed: '' },
                            { embed: '' }
                        ]
                    }
                ],

                init() {
                    const saved = localStorage.getItem('pmpr_aulas_progress');
                    if (saved) {
                        const savedStates = JSON.parse(saved);
                        this.lessons.forEach((l, i) => {
                            if (savedStates[i]) l.studied = savedStates[i];
                        });
                    }
                },

                saveProgress() {
                    const states = this.lessons.map(l => l.studied);
                    localStorage.setItem('pmpr_aulas_progress', JSON.stringify(states));
                }
            }
        }
    </script>
</body>

</html>