<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Palogr√°fico - Aprova√ß√£o Psycho</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #100f1c;
            --bg-card: #1c1b29;
            --primary-purple: #9f54ff;
            --accent-pink: #ff00ff;
            --accent-blue: #00c2ff;
            --text-light: #f0f0f0;
            --text-dark: #a0a0a0;
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg-dark); color: var(--text-dark); }
        .hero-accent { height: 8px; width: 220px; margin: 12px auto 28px; border-radius: 999px; background: linear-gradient(90deg, rgba(159,84,255,0.9), rgba(0,194,255,0.9), rgba(255,0,255,0.9)); box-shadow: 0 4px 24px rgba(159,84,255,0.12); }
        .card { background-color: var(--bg-card); border-radius: 0.75rem; border: 1px solid #333; }
        .featured-cta { background: linear-gradient(90deg, var(--primary-purple), var(--accent-blue)); color: #fff; }
        .pulse-ring { position: absolute; inset: -6px; border-radius: 0.75rem; background: radial-gradient(circle at 20% 20%, rgba(159,84,255,0.12), transparent 20%), radial-gradient(circle at 80% 80%, rgba(0,194,255,0.08), transparent 25%); pointer-events: none; filter: blur(6px); opacity: 0.9; }
        .badge-external { position: absolute; right: 12px; top: 12px; background: linear-gradient(90deg,#ff8bf0,#7ad3ff); color: #0b0b0b; padding: 6px 10px; border-radius: 999px; font-weight:700; font-size:0.75rem; box-shadow: 0 6px 18px rgba(0,0,0,0.25); }
        [x-cloak] { display: none !important; }
    </style>
</head>
<body x-data="{ }">

    <header class="sticky top-0 z-50 bg-black/40 backdrop-blur-md border-b border-white/10">
        <nav class="mx-auto max-w-7xl px-5 xl:px-8 py-3 flex items-center justify-between">
            <a href="index.html" class="flex items-center gap-3" aria-label="P√°gina inicial">
                <img src="logo-principal.png" alt="Logo Aprova√ß√£o Psycho" class="h-10 w-auto" loading="lazy" />
                <span class="text-[1.1rem] sm:text-xl font-black" style="color: var(--text-light);">APROVA√á√ÉO <span style="color: var(--accent-pink); filter: drop-shadow(0 0 8px rgba(255,0,255,.7));">PSYCHO</span></span>
            </a>

            <div class="hidden md:flex items-center gap-7 text-sm">
                <a href="index.html#sobre" class="text-[var(--accent-pink)] font-semibold">O Curso</a>
                <a href="equipe.html" class="text-[var(--text-dark)] hover:text-white">Nossa Equipe</a>
                <a href="galeria.html" class="text-[var(--text-dark)] hover:text-white">Galeria</a>
                <a href="cronogramas.html" class="text-[var(--text-dark)] hover:text-white">Cronogramas e Materiais</a>
                <a href="dicas.html" class="text-[var(--text-dark)] hover:text-white">Dicas de Testes</a>
                <a href="simuladores.html" class="text-[var(--text-dark)] hover:text-white">Simuladores</a>
            </div>

            <button id="menu-btn" class="md:hidden inline-flex items-center justify-center w-10 h-10 rounded-lg text-white/90 hover:text-white border border-white/15">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/></svg>
            </button>
        </nav>

        <div id="mobile-menu" class="md:hidden hidden border-t border-white/10 bg-black/60 backdrop-blur-lg">
            <div class="mx-auto max-w-7xl px-5 xl:px-8 py-3 grid gap-1 text-sm">
                <a class="py-2 text-[var(--accent-pink)] font-semibold" href="index.html#sobre">O Curso</a>
                <a class="py-2 text-[var(--text-dark)] hover:text-white" href="equipe.html">Nossa Equipe</a>
                <a class="py-2 text-[var(--text-dark)] hover:text-white" href="galeria.html">Galeria</a>
                <a class="py-2 text-white" href="cronogramas.html">Cronogramas e Materiais</a>
                <a class="py-2 text-[var(--text-dark)] hover:text-white" href="dicas.html">Dicas de Testes</a>
                <a class="py-2 text-[var(--text-dark)] hover:text-white" href="simuladores.html">Simuladores</a>
                <a class="py-2" href="https://wa.me/5585991982168?text=Ol%C3%A1!%20Quero%20saber%20mais%20sobre%20a%20Mentoria%20Aprova%C3%A7%C3%A3o%20Psycho." target="_blank" rel="noopener">WhatsApp</a>
            </div>
        </div>
    </header>

    <main class="py-12 md:py-20">
        <div class="container mx-auto px-6 max-w-4xl">
            <a href="simuladores.html" class="mb-6 inline-flex items-center text-accent-pink hover:text-white font-semibold">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                Voltar para Simuladores
            </a>
            <div class="max-w-4xl mx-auto mb-10 px-4 lg:px-0">
                <div class="block p-8 card featured-card text-center hover:shadow-lg relative">
                    <div class="pulse-ring" aria-hidden="true"></div>
                    <span class="badge-external">Externo</span>
                    <div class="flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 text-accent-blue" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.4"><path stroke-linecap="round" stroke-linejoin="round" d="M8 10h.01M12 10h.01M16 10h.01M21 12c0 4.418-4.03 8-9 8a9.77 9.77 0 01-4-.8L3 20l1.2-3.8A7.72 7.72 0 013 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/></svg>
                    </div>
                    <h3 class="text-2xl md:text-3xl font-bold mb-2 text-text-light">Corretor de Palogr√°ficos</h3>
                    <p class="text-text-dark mb-6">Abra o assistente que corrige palogr√°ficos. Escolha a vers√£o que prefere: GPT ou Gemini. Nesta p√°gina tamb√©m est√° a Calculadora de NOR.</p>
                    <div class="flex items-center justify-center gap-4 mt-4">
                        <a href="https://chatgpt.com/g/g-68fd18c2fd3481918ea01c8e28b6cec1-corretor-de-palografico-aprovacao-psycho-2-0" target="_blank" rel="noopener noreferrer" class="inline-block featured-cta font-semibold py-3 px-6 rounded-md">Abrir no GPT</a>
                        <a href="https://gemini.google.com/gem/1cwzI-0H_VSOc_5TDDvtUsS9AiI39LOS7?usp=sharing" target="_blank" rel="noopener noreferrer" class="inline-block border-2 border-white/10 bg-gradient-to-r from-[#00C2FF] to-[#9F54FF] text-white font-semibold py-3 px-6 rounded-md">Abrir no Gemini</a>
                    </div>
                </div>
            </div>

            <section class="mt-6">
                <h2 class="text-2xl font-extrabold text-text-light mb-3">Calculadora de NOR</h2>
                <p class="text-text-dark mb-6">Insira a quantidade de palos observados nos 5 intervalos. A vers√£o *gamificada* abaixo mostra resultados pessoais, mantendo todos os dados originais. üéØ</p>

                <div x-data="norCalculator()" class="p-6 rounded-lg shadow-lg bg-bg-card text-text-light">

                    <!-- Gamified result banner -->
                    <div x-show="totalPalos > 0" class="mb-4 p-4 rounded-md" :class="bannerClass">
                        <div class="flex items-center justify-between gap-4">
                            <div>
                                <div class="text-sm text-text-dark">Seu resultado</div>
                                <div class="flex items-center gap-3">
                                    <div class="text-4xl font-extrabold" x-text="(nor).toFixed(2)">0.00</div>
                                    <div class="text-lg font-semibold" x-text="friendlyMessage"></div>
                                </div>
                                <div class="text-sm text-text-dark mt-1">Total de palos: <span class="font-bold text-text-light" x-text="totalPalos"></span> ‚Ä¢ Soma diffs: <span class="font-bold text-text-light" x-text="sumDiffs"></span></div>
                            </div>
                            <div class="w-48">
                                <div class="h-3 w-full bg-white/10 rounded-full overflow-hidden">
                                    <div class="h-3 rounded-full" :style="`width: ${Math.min(nor,20)/20*100}%`" :class="progressClass"></div>
                                </div>
                                <div class="text-xs text-text-dark mt-2">Pontua√ß√£o: <span class="font-bold text-text-light" x-text="score"></span> ‚Ä¢ <span x-text="badge"></span></div>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 sm:grid-cols-5 gap-3 mb-4">
                        <template x-for="(val, idx) in intervals" :key="idx">
                            <div>
                                <label class="block text-sm text-text-dark mb-1">Intervalo <span x-text="idx+1"></span></label>
                                <input type="number" min="0" step="1" class="w-full p-2 rounded-md bg-[#111] border border-[#333] text-text-light" x-model.number="intervals[idx]" @input="compute()" />
                            </div>
                        </template>
                    </div>

                    <div class="flex gap-3 mb-4">
                        <button @click="compute()" class="px-4 py-2 featured-cta rounded-md font-semibold">Calcular NOR</button>
                        <button @click="reset()" class="px-4 py-2 bg-[#333] rounded-md">Limpar</button>
                    </div>

                    <div x-show="error" class="mb-4 p-3 bg-red-500/10 text-red-400 rounded-md" x-text="error"></div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="p-4 card">
                            <p class="text-sm text-text-dark">Total de Palos</p>
                            <p class="text-3xl font-bold text-text-light" x-text="totalPalos"></p>
                        </div>
                        <div class="p-4 card">
                            <p class="text-sm text-text-dark">NOR (pontos)</p>
                            <p class="text-3xl font-bold text-text-light" x-text="(nor).toFixed(2)"></p>
                        </div>
                    </div>

                    <div class="mt-4 p-4 card">
                        <p class="text-sm text-text-dark mb-2">Soma das diferen√ßas entre intervalos</p>
                        <p class="font-bold text-text-light mb-2" x-text="sumDiffs"></p>
                        <p class="text-sm text-text-dark mb-2">Diferen√ßas entre intervalos (adjacentes)</p>
                        <div class="flex gap-2 flex-wrap">
                            <template x-for="(d, i) in diffs" :key="i">
                                <span class="px-3 py-1 bg-[#111] border border-[#333] rounded-md text-text-light">D<span x-text="i+1"></span>: <span x-text="d"></span></span>
                            </template>
                        </div>
                    </div>

                    <div class="mt-4 p-4 card">
                        <p class="text-sm text-text-dark">Classifica√ß√£o</p>
                        <p class="text-lg font-semibold text-text-light mt-1" x-text="classification"></p>
                        <p class="text-sm text-text-dark mt-2">Legenda:</p>
                        <ul class="text-sm text-text-dark ml-4 list-disc mt-1">
                            <li>Muito baixo (NOR entre 0 e 2,1 pontos): alta regularidade; tend√™ncia √† rigidez.</li>
                            <li>Baixo (NOR entre 2,2 e 4,1 pontos): estabilidade no ritmo de produ√ß√£o.</li>
                            <li>M√©dio (NOR entre 4,2 e 8,6 pontos): instabilidade moderada; aceit√°vel, por√©m n√£o ideal.</li>
                            <li>Alto (NOR entre 8,7 e 13,1 pontos): flutua√ß√µes e instabilidade no desempenho.</li>
                            <li>Muito alto (NOR ‚â• 13,2 pontos): grandes varia√ß√µes de rendimento.</li>
                        </ul>
                        <p class="text-sm text-text-dark mt-2"><strong>Observa√ß√£o:</strong> o ideal √© um NOR baixo. Um NOR m√©dio ainda √© aceit√°vel, por√©m n√£o ideal.</p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer class="border-t border-gray-800">
        <div class="container mx-auto px-6 py-8 text-center">
            <p class="text-sm text-text-dark">&copy; 2024 Aprova√ß√£o Psycho. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@alpinejs/collapse@3.x.x/dist/cdn.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('norCalculator', () => ({
                intervals: [0,0,0,0,0],
                totalPalos: 0,
                diffs: [],
                sumDiffs: 0,
                nor: 0,
                classification: '',
                error: null,
                // gamified fields
                friendlyMessage: '',
                score: 0,
                badge: '',
                bannerClass: 'bg-white/5 border border-white/5',
                progressClass: 'bg-green-400',
                compute() {
                    this.error = null;
                    this.intervals = this.intervals.map(v => { v = Number(v); return isNaN(v) || v < 0 ? 0 : v; });
                    this.totalPalos = this.intervals.reduce((s, n) => s + n, 0);
                    if (this.totalPalos <= 0) {
                        this.diffs = [];
                        this.sumDiffs = 0;
                        this.nor = 0;
                        this.classification = '';
                        this.friendlyMessage = '';
                        this.score = 0;
                        this.badge = '';
                        this.bannerClass = 'bg-white/5 border border-white/5';
                        this.progressClass = 'bg-green-400';
                        this.error = 'Insira valores positivos para o total de palos.';
                        return;
                    }
                    this.diffs = [];
                    for (let i = 0; i < this.intervals.length - 1; i++) {
                        this.diffs.push(Math.abs(this.intervals[i+1] - this.intervals[i]));
                    }
                    this.sumDiffs = this.diffs.reduce((s, n) => s + n, 0);
                    this.nor = (this.sumDiffs * 100) / this.totalPalos;
                    const n = this.nor;
                    if (n <= 2.1) {
                        this.classification = 'Muito baixo (0‚Äì2,1 pontos)';
                        this.friendlyMessage = 'üèÜ Muito baixo ‚Äî alta regularidade, sem oscila√ß√µes bruscas.';
                        this.badge = 'üèÜ';
                        this.bannerClass = 'bg-green-500/10 border-l-4 border-green-500';
                        this.progressClass = 'bg-green-400';
                    } else if (n <= 4.1) {
                        this.classification = 'Baixo (2,2‚Äì4,1 pontos)';
                        this.friendlyMessage = '‚≠ê Baixo ‚Äî estabilidade no ritmo de produ√ß√£o.';
                        this.badge = '‚≠ê';
                        this.bannerClass = 'bg-green-400/10 border-l-4 border-yellow-400';
                        this.progressClass = 'bg-yellow-400';
                    } else if (n <= 8.6) {
                        this.classification = 'M√©dio (4,2‚Äì8,6 pontos)';
                        this.friendlyMessage = '‚ÑπÔ∏è M√©dio ‚Äî adapt√°vel, aceit√°vel, por√©m n√£o ideal.';
                        this.badge = '‚ÑπÔ∏è';
                        this.bannerClass = 'bg-yellow-500/10 border-l-4 border-yellow-500';
                        this.progressClass = 'bg-orange-400';
                    } else if (n <= 13.1) {
                        this.classification = 'Alto (8,7‚Äì13,1 pontos)';
                        this.friendlyMessage = '‚ö†Ô∏è Alto ‚Äî flutua√ß√µes e instabilidade no desempenho.';
                        this.badge = '‚ö†Ô∏è';
                        this.bannerClass = 'bg-orange-500/10 border-l-4 border-orange-500';
                        this.progressClass = 'bg-orange-500';
                    } else {
                        this.classification = 'Muito alto (‚â•13,2 pontos)';
                        this.friendlyMessage = 'üî• Muito alto ‚Äî grandes varia√ß√µes de rendimento.';
                        this.badge = 'üî•';
                        this.bannerClass = 'bg-red-500/10 border-l-4 border-red-500';
                        this.progressClass = 'bg-red-400';
                    }
                    // Score: map NOR (0..20+) to 0..100 where lower NOR => higher score
                    this.score = Math.max(0, Math.min(100, Math.round(100 - (this.nor / 20) * 100)));
                },
                reset() { this.intervals = [0,0,0,0,0]; this.totalPalos = 0; this.diffs = []; this.sumDiffs = 0; this.nor = 0; this.classification = ''; this.error = null; this.friendlyMessage = ''; this.score = 0; this.badge = ''; this.bannerClass = 'bg-white/5 border border-white/5'; this.progressClass = 'bg-green-400'; }
            }));
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const menuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            menuBtn?.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
        });
    </script>

</body>
</html>
