<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An√°lise Estrat√©gica: Avalia√ß√£o Psicol√≥gica PMPR 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Tactical Blue & Neutral Grey - Inspired by Military/Police professionalism. Clean, authoritative, and readable. -->
    <!-- Application Structure Plan:
         1. Dashboard Layout: Single page with a sidebar navigation (mobile responsive) to switch between 4 key views.
         2. View 1: Vis√£o Geral (Overview) - High-level cards and the "Rules of the Game".
         3. View 2: Perfil Profissiogr√°fico (The Profile) - Interactive "Radar" visualization of required traits and detailed list.
         4. View 3: Raio-X da Banca (Board Analysis) - Bar chart showing test probability based on historical data.
         5. View 4: Simulador de Resultado - An interactive logic gate where users toggle traits to see if they result in "APTO" or "INAPTO".
         Why this structure? It moves from abstract rules -> specific requirements -> predictive intelligence -> practical application.
    -->
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            height: 400px;
            max-height: 500px;
        }
        .nav-item.active {
            background-color: #1e3a8a; /* blue-900 */
            color: white;
            border-left: 4px solid #3b82f6; /* blue-500 */
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        /* Custom scrollbar for sidebar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body class="flex flex-col md:flex-row h-screen overflow-hidden">

    <!-- Sidebar Navigation -->
    <nav class="bg-white w-full md:w-64 flex-shrink-0 border-r border-gray-200 flex flex-col justify-between z-20">
        <div>
            <div class="p-6 bg-blue-900 text-white">
                <h1 class="text-xl font-bold tracking-tight">PMPR 2025</h1>
                <p class="text-xs text-blue-200 mt-1 uppercase tracking-wider">Avalia√ß√£o Psicol√≥gica</p>
            </div>
            <ul class="flex flex-col text-sm font-medium text-gray-600">
                <li>
                    <button onclick="switchTab('overview')" id="nav-overview" class="nav-item w-full text-left px-6 py-4 hover:bg-gray-50 transition-colors active">
                        üìä Vis√£o Geral
                    </button>
                </li>
                <li>
                    <button onclick="switchTab('profile')" id="nav-profile" class="nav-item w-full text-left px-6 py-4 hover:bg-gray-50 transition-colors">
                        üß† Perfil Exigido
                    </button>
                </li>
                <li>
                    <button onclick="switchTab('board')" id="nav-board" class="nav-item w-full text-left px-6 py-4 hover:bg-gray-50 transition-colors">
                        üéØ Raio-X da Banca
                    </button>
                </li>
                <li>
                    <button onclick="switchTab('simulator')" id="nav-simulator" class="nav-item w-full text-left px-6 py-4 hover:bg-gray-50 transition-colors">
                        ‚öôÔ∏è Simulador de Inaptid√£o
                    </button>
                </li>
            </ul>
        </div>
        <div class="p-4 text-xs text-gray-400 text-center border-t">
            Baseado no Edital N¬∫ 01/2025
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-1 overflow-y-auto p-4 md:p-8 relative">
        
        <!-- SECTION 1: VIS√ÉO GERAL -->
        <section id="view-overview" class="space-y-6">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-800">Vis√£o Geral da Etapa</h2>
                <p class="text-gray-600 mt-2 max-w-3xl">
                    Entenda as regras fundamentais da 5¬™ Etapa do Concurso de Cadete PMPR. Esta fase √© decisiva e possui crit√©rios objetivos de elimina√ß√£o baseados na compatibilidade com o perfil profissiogr√°fico.
                </p>
            </div>

            <!-- Key Metrics Grid -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-xl border border-gray-100 shadow-sm card-hover">
                    <div class="text-blue-600 text-3xl mb-2">‚öñÔ∏è</div>
                    <h3 class="font-bold text-gray-800">Car√°ter Eliminat√≥rio</h3>
                    <p class="text-sm text-gray-500 mt-2">O resultado √© bin√°rio: <strong>APTO</strong> ou <strong>INAPTO</strong>. N√£o h√° nota classificat√≥ria, apenas a verifica√ß√£o de requisitos.</p>
                </div>
                <div class="bg-white p-6 rounded-xl border border-gray-100 shadow-sm card-hover">
                    <div class="text-red-500 text-3xl mb-2">üö´</div>
                    <h3 class="font-bold text-gray-800">Regra de Ouro</h3>
                    <p class="text-sm text-gray-500 mt-2">A falha √© <strong>cumulativa</strong>. Basta falhar em <strong>UM</strong> requisito (ex: um tra√ßo restritivo) para ser eliminado do concurso.</p>
                </div>
                <div class="bg-white p-6 rounded-xl border border-gray-100 shadow-sm card-hover">
                    <div class="text-indigo-600 text-3xl mb-2">üìã</div>
                    <h3 class="font-bold text-gray-800">Banca AOCP</h3>
                    <p class="text-sm text-gray-500 mt-2">Possui liberdade t√©cnica para escolher os testes, mas √© <strong>obrigada</strong> a avaliar itens espec√≠ficos do edital (10.4.8).</p>
                </div>
            </div>

            <!-- Process Logic Diagram (CSS) -->
            <div class="bg-white p-8 rounded-xl border border-gray-100 shadow-sm mt-6">
                <h3 class="font-bold text-gray-800 mb-6">Fluxo da Avalia√ß√£o</h3>
                <div class="flex flex-col md:flex-row items-center justify-between text-center gap-4">
                    <div class="flex-1 p-4 bg-gray-50 rounded-lg border border-gray-200">
                        <span class="text-2xl block mb-2">üìÑ</span>
                        <span class="font-semibold text-sm">Edital (10.4.9)</span>
                        <p class="text-xs text-gray-500 mt-1">Define o Perfil</p>
                    </div>
                    <div class="text-gray-400 text-2xl">‚ûî</div>
                    <div class="flex-1 p-4 bg-blue-50 rounded-lg border border-blue-100">
                        <span class="text-2xl block mb-2">üß†</span>
                        <span class="font-semibold text-sm">Aplica√ß√£o dos Testes</span>
                        <p class="text-xs text-gray-500 mt-1">Aostragem dos Tra√ßos</p>
                    </div>
                    <div class="text-gray-400 text-2xl">‚ûî</div>
                    <div class="flex-1 p-4 bg-indigo-50 rounded-lg border border-indigo-100">
                        <span class="text-2xl block mb-2">üìä</span>
                        <span class="font-semibold text-sm">An√°lise Estat√≠stica</span>
                        <p class="text-xs text-gray-500 mt-1">Compara√ß√£o com M√©dia</p>
                    </div>
                    <div class="text-gray-400 text-2xl">‚ûî</div>
                    <div class="flex-1 p-4 bg-green-50 rounded-lg border border-green-100">
                        <span class="text-2xl block mb-2">‚úÖ</span>
                        <span class="font-semibold text-sm">Parecer Final</span>
                        <p class="text-xs text-gray-500 mt-1">Apto / Inapto</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: PERFIL PROFISSIOGR√ÅFICO -->
        <section id="view-profile" class="hidden space-y-6">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-800">Perfil Profissiogr√°fico Exigido</h2>
                <p class="text-gray-600 mt-2 max-w-3xl">
                    Este radar visualiza o "Candidato Ideal". As √°reas preenchidas representam o n√≠vel exigido (M√©dia ou Superior). Os tra√ßos restritivos devem permanecer zerados (centro do gr√°fico).
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Visualization -->
                <!-- Visualization & Content Choices:
                     Goal: Visualize the abstract requirements of "Profile".
                     Method: Radar Chart (Spider Chart).
                     Justification: Radar charts are excellent for showing multi-variate profiles. We map "Average/Required" as the outer boundary.
                     Interaction: None specific on the chart, but hovering shows tooltips.
                -->
                <div class="bg-white p-6 rounded-xl border border-gray-100 shadow-sm flex flex-col items-center">
                    <h3 class="font-bold text-gray-700 mb-4 w-full text-left">Radar de Compet√™ncias</h3>
                    <div class="chart-container">
                        <canvas id="profileChart"></canvas>
                    </div>
                    <div class="mt-4 text-xs text-gray-500 text-center">
                        *A linha azul representa o n√≠vel m√≠nimo exigido (M√©dia Populacional).
                    </div>
                </div>

                <!-- Detailed List -->
                <div class="bg-white p-6 rounded-xl border border-gray-100 shadow-sm overflow-hidden flex flex-col h-full">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-bold text-gray-700">Detalhamento dos Requisitos</h3>
                        <select id="profileFilter" class="text-sm border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 p-1 bg-gray-50" onchange="filterProfileList()">
                            <option value="all">Todos</option>
                            <option value="cognitive">Cognitivo & Aten√ß√£o</option>
                            <option value="personality">Personalidade</option>
                            <option value="restrictive">Restritivos (Cr√≠ticos)</option>
                        </select>
                    </div>
                    <div class="overflow-y-auto flex-1 pr-2" id="profileListContainer">
                        <!-- Content populated by JS -->
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: RAIO-X DA BANCA -->
        <section id="view-board" class="hidden space-y-6">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-800">Raio-X da Banca AOCP</h2>
                <p class="text-gray-600 mt-2 max-w-3xl">
                    Baseado no hist√≥rico recente (2023-2024), identificamos os testes com maior probabilidade de aplica√ß√£o. Use isso para direcionar sua prepara√ß√£o mental.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Chart Col -->
                <div class="lg:col-span-2 bg-white p-6 rounded-xl border border-gray-100 shadow-sm">
                    <h3 class="font-bold text-gray-700 mb-4">Probabilidade de Incid√™ncia (Testes)</h3>
                    <div class="chart-container">
                        <canvas id="boardChart"></canvas>
                    </div>
                </div>

                <!-- Info Col -->
                <div class="bg-blue-900 text-white p-6 rounded-xl shadow-sm flex flex-col justify-between">
                    <div>
                        <h3 class="font-bold text-xl mb-4 text-yellow-400">üî• Aposta Principal</h3>
                        <div class="space-y-4">
                            <div class="bg-blue-800 p-3 rounded-lg">
                                <span class="text-xs text-blue-300 uppercase font-bold">Personalidade</span>
                                <p class="font-bold text-lg">NEO PI-R</p>
                                <p class="text-sm text-blue-200">Mede os "Big Five". Essencial para o perfil exigido.</p>
                            </div>
                            <div class="bg-blue-800 p-3 rounded-lg">
                                <span class="text-xs text-blue-300 uppercase font-bold">Expressivo/Restritivo</span>
                                <p class="font-bold text-lg">Palogr√°fico</p>
                                <p class="text-sm text-blue-200">Mede produtividade, mas principalmente agressividade e impulsividade.</p>
                            </div>
                            <div class="bg-blue-800 p-3 rounded-lg">
                                <span class="text-xs text-blue-300 uppercase font-bold">Aten√ß√£o</span>
                                <p class="font-bold text-lg">TEACO-FF</p>
                                <p class="text-sm text-blue-200">Teste cl√°ssico de aten√ß√£o concentrada da AOCP.</p>
                            </div>
                        </div>
                    </div>
                    <div class="mt-6 pt-6 border-t border-blue-700">
                        <p class="text-xs opacity-75">An√°lise baseada na frequ√™ncia de aplica√ß√£o em concursos policiais de 2023/2024 (PM-PE, PM-DF, PP-DF).</p>
                    </div>
                </div>
            </div>
            
            <!-- Strategy Row -->
            <div class="bg-white p-6 rounded-xl border border-gray-100 shadow-sm">
                <h3 class="font-bold text-gray-800 mb-4">Estrat√©gia de Prepara√ß√£o Sugerida</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div class="p-4 bg-gray-50 rounded-lg border-l-4 border-yellow-500">
                        <h4 class="font-bold text-sm text-gray-800">1. NEO PI-R</h4>
                        <p class="text-xs text-gray-600 mt-1">Estude os conceitos de Extrovers√£o, Neuroticismo e Realiza√ß√£o. Mantenha consist√™ncia.</p>
                    </div>
                    <div class="p-4 bg-gray-50 rounded-lg border-l-4 border-red-500">
                        <h4 class="font-bold text-sm text-gray-800">2. Controle (Palo)</h4>
                        <p class="text-xs text-gray-600 mt-1">Treine qualidade do tra√ßo, espa√ßamento e controle de press√£o. Evite "ganchos".</p>
                    </div>
                    <div class="p-4 bg-gray-50 rounded-lg border-l-4 border-blue-500">
                        <h4 class="font-bold text-sm text-gray-800">3. Aten√ß√£o (TEACO)</h4>
                        <p class="text-xs text-gray-600 mt-1">Foque em velocidade com precis√£o. Erros descontam pontos.</p>
                    </div>
                    <div class="p-4 bg-gray-50 rounded-lg border-l-4 border-green-500">
                        <h4 class="font-bold text-sm text-gray-800">4. Racioc√≠nio (R1)</h4>
                        <p class="text-xs text-gray-600 mt-1">Treine l√≥gica visual e sequ√™ncias de matrizes n√£o-verbais.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 4: SIMULADOR -->
        <section id="view-simulator" class="hidden space-y-6">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-800">Simulador de Inaptid√£o</h2>
                <p class="text-gray-600 mt-2 max-w-3xl">
                    Este simulador demonstra a <strong>Regra de Elimina√ß√£o</strong> do Edital. Configure o perfil do candidato abaixo e veja o resultado final. Perceba como um √∫nico erro fatal compromete todo o conjunto.
                </p>
            </div>

            <div class="flex flex-col lg:flex-row gap-8">
                <!-- Controls -->
                <div class="flex-1 bg-white p-6 rounded-xl border border-gray-100 shadow-sm">
                    <h3 class="font-bold text-gray-700 mb-4">Configura√ß√£o do Candidato</h3>
                    
                    <div class="space-y-6">
                        <!-- Group 1 -->
                        <div>
                            <h4 class="text-sm font-bold text-blue-900 uppercase tracking-wide mb-2 border-b pb-1">Aspectos Cognitivos</h4>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between">
                                    <label class="text-sm text-gray-700">Aten√ß√£o (Geral)</label>
                                    <select id="sim_attention" class="text-sm border rounded p-1" onchange="updateSimulator()">
                                        <option value="ok">Na M√©dia / Superior</option>
                                        <option value="fail">Abaixo da M√©dia</option>
                                    </select>
                                </div>
                                <div class="flex items-center justify-between">
                                    <label class="text-sm text-gray-700">Intelig√™ncia N√£o-Verbal</label>
                                    <select id="sim_intelligence" class="text-sm border rounded p-1" onchange="updateSimulator()">
                                        <option value="ok">Na M√©dia / Superior</option>
                                        <option value="fail">Abaixo da M√©dia</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Group 2 -->
                        <div>
                            <h4 class="text-sm font-bold text-blue-900 uppercase tracking-wide mb-2 border-b pb-1">Personalidade</h4>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between">
                                    <label class="text-sm text-gray-700">Tra√ßos Gerais (Extrovers√£o, etc)</label>
                                    <select id="sim_personality" class="text-sm border rounded p-1" onchange="updateSimulator()">
                                        <option value="ok">Na M√©dia / Superior</option>
                                        <option value="fail">Abaixo da M√©dia</option>
                                    </select>
                                </div>
                                <div class="flex items-center justify-between">
                                    <label class="text-sm text-gray-700">Sociabilidade</label>
                                    <select id="sim_social" class="text-sm border rounded p-1" onchange="updateSimulator()">
                                        <option value="ok">Equilibrada</option>
                                        <option value="fail_low">Muito Baixa</option>
                                        <option value="fail_high">Exacerbada</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Group 3 -->
                        <div>
                            <h4 class="text-sm font-bold text-red-900 uppercase tracking-wide mb-2 border-b pb-1 border-red-200">Fatores Restritivos (Cr√≠ticos)</h4>
                            <div class="space-y-3 bg-red-50 p-3 rounded-lg border border-red-100">
                                <div class="flex items-center justify-between">
                                    <label class="text-sm text-gray-800 font-medium">Controle Emocional</label>
                                    <select id="sim_emotional" class="text-sm border rounded p-1 border-red-200" onchange="updateSimulator()">
                                        <option value="ok">Controlado</option>
                                        <option value="fail">Descontrole/Exacerbado</option>
                                    </select>
                                </div>
                                <div class="flex items-center justify-between">
                                    <label class="text-sm text-gray-800 font-medium">Agressividade</label>
                                    <select id="sim_aggression" class="text-sm border rounded p-1 border-red-200" onchange="updateSimulator()">
                                        <option value="ok">Controlada</option>
                                        <option value="fail">Descontrole/Exacerbada</option>
                                    </select>
                                </div>
                                <div class="flex items-center justify-between">
                                    <label class="text-sm text-gray-800 font-medium">Impulsividade</label>
                                    <select id="sim_impulse" class="text-sm border rounded p-1 border-red-200" onchange="updateSimulator()">
                                        <option value="ok">Controlada</option>
                                        <option value="fail">Descontrole/Exacerbada</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Result Display -->
                <div class="lg:w-1/3 flex flex-col gap-4">
                    <div id="resultCard" class="bg-green-100 p-8 rounded-xl border-2 border-green-500 flex flex-col items-center justify-center text-center shadow-lg transition-colors duration-500 h-full">
                        <div id="resultIcon" class="text-6xl mb-4">‚úÖ</div>
                        <h2 id="resultTitle" class="text-3xl font-black text-green-800 uppercase tracking-widest">APTO</h2>
                        <p id="resultText" class="text-sm text-green-700 mt-4 font-medium">O candidato atende a todos os requisitos do Perfil Profissiogr√°fico.</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <script>
        // --- Data Definitions ---

        const profileRequirements = [
            { name: "Aten√ß√£o Concentrada", category: "cognitive", required: "M√©dia ou +", type: "min" },
            { name: "Aten√ß√£o Sustentada", category: "cognitive", required: "M√©dia ou +", type: "min" },
            { name: "Aten√ß√£o Dividida", category: "cognitive", required: "M√©dia ou +", type: "min" },
            { name: "Aten√ß√£o Alternada", category: "cognitive", required: "M√©dia ou +", type: "min" },
            { name: "Intelig√™ncia N√£o-Verbal", category: "cognitive", required: "M√©dia ou +", type: "min" },
            { name: "Racioc√≠nios (Esp, Abs, Mec, Num, Mat)", category: "cognitive", required: "M√©dia ou +", type: "min" },
            { name: "Extrovers√£o", category: "personality", required: "M√©dia ou +", type: "min" },
            { name: "Realiza√ß√£o", category: "personality", required: "M√©dia ou +", type: "min" },
            { name: "Necessidade de Organiza√ß√£o", category: "personality", required: "M√©dia ou +", type: "min" },
            { name: "Sociabilidade", category: "personality", required: "Equil√≠brio", type: "balance" },
            { name: "Agressividade (Descontrole)", category: "restrictive", required: "Ausente", type: "rest" },
            { name: "Impulsividade (Descontrole)", category: "restrictive", required: "Ausente", type: "rest" },
            { name: "Emocional (Descontrole)", category: "restrictive", required: "Ausente", type: "rest" }
        ];

        const boardProbabilities = {
            labels: ['NEO PI-R (Personalidade)', 'TEACO-FF (Aten√ß√£o)', 'Palogr√°fico (Exp/Rest)', 'Teste R1 (Intelig√™ncia)', 'Bateria TSP (Habilidades)', 'Outros (AC Vetor/BFP)'],
            data: [95, 90, 85, 80, 60, 40], // Estimated probabilities based on text analysis "Alt√≠ssima", "Alta"
            details: [
                "Alt√≠ssima incid√™ncia em 2024. Cobre os 'Big Five' exigidos.",
                "Padr√£o ouro da AOCP para aten√ß√£o concentrada.",
                "Favorito para medir agressividade e produtividade.",
                "Cl√°ssico para intelig√™ncia n√£o-verbal (fator g).",
                "Prov√°vel devido aos itens espec√≠ficos 'Julgamento' e 'Flu√™ncia'.",
                "Poss√≠veis varia√ß√µes, mas menos frequentes recentemente."
            ]
        };

        // --- Navigation Logic ---

        function switchTab(tabId) {
            // Hide all sections
            document.querySelectorAll('main > section').forEach(el => el.classList.add('hidden'));
            // Show selected section
            document.getElementById(`view-${tabId}`).classList.remove('hidden');
            
            // Update Nav State
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active', 'bg-blue-900', 'text-white', 'border-l-4', 'border-blue-500'));
            const activeNav = document.getElementById(`nav-${tabId}`);
            activeNav.classList.add('active');

            // Trigger Chart renders if needed
            if (tabId === 'profile' && !window.profileChartInstance) renderProfileChart();
            if (tabId === 'board' && !window.boardChartInstance) renderBoardChart();
        }

        // --- Feature 1: Profile List & Filter ---

        function renderProfileList(filter = 'all') {
            const container = document.getElementById('profileListContainer');
            container.innerHTML = '';

            const filtered = profileRequirements.filter(item => filter === 'all' || item.category === filter);

            filtered.forEach(item => {
                let badgeClass = '';
                let badgeText = '';

                if (item.category === 'cognitive') { badgeClass = 'bg-blue-100 text-blue-800'; badgeText = 'Cognitivo'; }
                else if (item.category === 'personality') { badgeClass = 'bg-purple-100 text-purple-800'; badgeText = 'Personalidade'; }
                else { badgeClass = 'bg-red-100 text-red-800'; badgeText = 'Restritivo'; }

                const div = document.createElement('div');
                div.className = 'flex items-center justify-between p-3 border-b border-gray-100 last:border-0 hover:bg-gray-50';
                div.innerHTML = `
                    <div>
                        <span class="text-xs font-bold uppercase px-2 py-0.5 rounded ${badgeClass} mr-2">${badgeText}</span>
                        <span class="text-gray-700 font-medium text-sm">${item.name}</span>
                    </div>
                    <span class="text-sm text-gray-500 font-semibold">${item.required}</span>
                `;
                container.appendChild(div);
            });
        }

        function filterProfileList() {
            const filter = document.getElementById('profileFilter').value;
            renderProfileList(filter);
        }

        // --- Feature 2: Charts ---

        function renderProfileChart() {
            const ctx = document.getElementById('profileChart').getContext('2d');
            window.profileChartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Aten√ß√£o', 'Intelig√™ncia', 'Extrovers√£o', 'Realiza√ß√£o', 'Organiza√ß√£o', 'Controle Emocional', 'Agressividade (Controle)'],
                    datasets: [{
                        label: 'Perfil Exigido (M√≠nimo)',
                        data: [50, 50, 50, 50, 50, 80, 80], // 50 is avg, 80 represents high control required
                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        borderColor: 'rgba(59, 130, 246, 1)',
                        pointBackgroundColor: 'rgba(59, 130, 246, 1)',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: '#e5e7eb' },
                            grid: { color: '#e5e7eb' },
                            pointLabels: {
                                font: { size: 11, family: 'Inter' },
                                color: '#4b5563'
                            },
                            suggestedMin: 0,
                            suggestedMax: 100,
                            ticks: { display: false } // Hide numbers for abstract representation
                        }
                    },
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': N√≠vel Adequado Exigido';
                                }
                            }
                        }
                    }
                }
            });
        }

        function renderBoardChart() {
            const ctx = document.getElementById('boardChart').getContext('2d');
            window.boardChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: boardProbabilities.labels,
                    datasets: [{
                        label: 'Probabilidade Estimada (%)',
                        data: boardProbabilities.data,
                        backgroundColor: [
                            'rgba(30, 58, 138, 0.8)', // Dark Blue
                            'rgba(30, 58, 138, 0.7)',
                            'rgba(220, 38, 38, 0.7)', // Red for Palografico
                            'rgba(59, 130, 246, 0.7)', // Blue
                            'rgba(59, 130, 246, 0.6)',
                            'rgba(156, 163, 175, 0.5)'
                        ],
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            grid: { color: '#f3f4f6' }
                        },
                        x: {
                            grid: { display: false }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                afterLabel: function(context) {
                                    return boardProbabilities.details[context.dataIndex];
                                }
                            }
                        }
                    }
                }
            });
        }

        // --- Feature 3: Simulator Logic ---

        function updateSimulator() {
            // Get values
            const attention = document.getElementById('sim_attention').value;
            const intelligence = document.getElementById('sim_intelligence').value;
            const personality = document.getElementById('sim_personality').value;
            const social = document.getElementById('sim_social').value;
            const emotional = document.getElementById('sim_emotional').value;
            const aggression = document.getElementById('sim_aggression').value;
            const impulse = document.getElementById('sim_impulse').value;

            // Check failure conditions
            const failures = [];
            if (attention === 'fail') failures.push("Aten√ß√£o Abaixo da M√©dia");
            if (intelligence === 'fail') failures.push("Intelig√™ncia Abaixo da M√©dia");
            if (personality === 'fail') failures.push("Tra√ßos de Personalidade Insuficientes");
            if (social !== 'ok') failures.push("Sociabilidade Desequilibrada");
            if (emotional === 'fail') failures.push("Descontrole Emocional Detectado");
            if (aggression === 'fail') failures.push("Agressividade Exacerbada Detectada");
            if (impulse === 'fail') failures.push("Impulsividade Exacerbada Detectada");

            const resultCard = document.getElementById('resultCard');
            const resultTitle = document.getElementById('resultTitle');
            const resultIcon = document.getElementById('resultIcon');
            const resultText = document.getElementById('resultText');

            if (failures.length > 0) {
                // INAPTO
                resultCard.className = "bg-red-50 p-8 rounded-xl border-2 border-red-500 flex flex-col items-center justify-center text-center shadow-lg transition-colors duration-500 h-full";
                resultTitle.className = "text-3xl font-black text-red-800 uppercase tracking-widest";
                resultTitle.innerText = "INAPTO";
                resultIcon.innerText = "üö´";
                resultText.className = "text-sm text-red-700 mt-4 font-medium";
                resultText.innerHTML = `Motivo(s) da Elimina√ß√£o:<br><ul class="mt-2 list-disc list-inside text-left mx-auto w-fit">${failures.map(f => `<li>${f}</li>`).join('')}</ul>`;
            } else {
                // APTO
                resultCard.className = "bg-green-100 p-8 rounded-xl border-2 border-green-500 flex flex-col items-center justify-center text-center shadow-lg transition-colors duration-500 h-full";
                resultTitle.className = "text-3xl font-black text-green-800 uppercase tracking-widest";
                resultTitle.innerText = "APTO";
                resultIcon.innerText = "‚úÖ";
                resultText.className = "text-sm text-green-700 mt-4 font-medium";
                resultText.innerText = "O candidato atende a todos os requisitos do Perfil Profissiogr√°fico.";
            }
        }

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            renderProfileList();
            // Start on overview
            switchTab('overview');
        });

    </script>
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. Charts via Chart.js Canvas. Icons via Unicode. -->
</body>
</html>